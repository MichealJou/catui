(function(V,d){typeof exports=="object"&&typeof module!="undefined"?d(exports,require("@antv/s2"),require("vue"),require("ant-design-vue"),require("@antv/s2/extends")):typeof define=="function"&&define.amd?define(["exports","@antv/s2","vue","ant-design-vue","@antv/s2/extends"],d):(V=typeof globalThis!="undefined"?globalThis:V||self,d(V.S2Vue={},V.S2,V.Vue,V.antd,V._extends))})(this,function(V,d,o,Re,Mt){"use strict";var z0=Object.defineProperty,W0=Object.defineProperties;var H0=Object.getOwnPropertyDescriptors;var ja=Object.getOwnPropertySymbols;var V0=Object.prototype.hasOwnProperty,X0=Object.prototype.propertyIsEnumerable;var es=(V,d,o)=>d in V?z0(V,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):V[d]=o,zn=(V,d)=>{for(var o in d||(d={}))V0.call(d,o)&&es(V,o,d[o]);if(ja)for(var o of ja(d))X0.call(d,o)&&es(V,o,d[o]);return V},it=(V,d)=>W0(V,H0(d));var Pt=(V,d,o)=>new Promise((Re,Mt)=>{var Mr=an=>{try{lt(o.next(an))}catch(at){Mt(at)}},te=an=>{try{lt(o.throw(an))}catch(at){Mt(at)}},lt=an=>an.done?Re(an.value):Promise.resolve(an.value).then(Mr,te);lt((o=o.apply(V,d)).next())});d.extendLocale(d.Locale);const Mr=o.defineComponent({name:"TooltipDescription",props:{description:{type:[String,Object],default:void 0}},setup(){return{TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS,i18n:d.i18n}}}),te=(i,c)=>{const a=i.__vccOpts||i;for(const[S,_]of c)a[S]=_;return a};function lt(i,c,a,S,_,m){return i.description?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-description`)},o.toDisplayString(i.i18n("说明"))+o.toDisplayString(i.description),3)):o.createCommentVNode("",!0)}const an=te(Mr,[["render",lt]]),at=o.defineComponent({name:"TooltipDetail",props:["list"],setup(){return{TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS}}});function ns(i,c,a,S,_,m){return o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.list,(E,A)=>(o.openBlock(),o.createElementBlock("div",{key:`${E.value}-${A}`,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-detail-list`)},[o.createElementVNode("div",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-detail-item`)},[o.createElementVNode("span",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-detail-item-key`)},o.toDisplayString(E.name),3),o.createElementVNode("span",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-detail-item-val ${i.TOOLTIP_PREFIX_CLS}-highlight`)},o.toDisplayString(E.value),3)],2)],2))),128)}const ts=te(at,[["render",ns]]),rs=o.defineComponent({name:"TooltipHeadInfo",props:["rows","cols"],setup(i){const c=o.computed(()=>(i.cols||[]).map(_=>_.value).join("/")),a=o.computed(()=>(i.rows||[]).map(_=>_.value).join("/")),S=o.computed(()=>{var _,m,E,A;return((m=(_=i.cols)==null?void 0:_.length)!=null?m:0)>0&&((A=(E=i.rows)==null?void 0:E.length)!=null?A:0)>0?d.i18n("，"):""});return{TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS,colsText:c,rowsText:a,separator:S}}});function os(i,c,a,S,_,m){var E,A;return(E=i.cols)!=null&&E.length||(A=i.rows)!=null&&A.length?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-head-info-list`)},o.toDisplayString(i.colsText)+o.toDisplayString(i.separator)+o.toDisplayString(i.rowsText),3)):o.createCommentVNode("",!0)}const is=te(rs,[["render",os]]),ls=o.defineComponent({name:"TooltipInfos",props:["infos"],setup(){return{TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS}},components:{}});function as(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-infos`)},o.toDisplayString(i.infos),3)}const ss=te(ls,[["render",as]]),us=o.defineComponent({name:"TooltipIcon",props:{icon:{type:[String,Object],default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0}},setup(i){const c=o.computed(()=>typeof i.icon=="string"?d.getIcon(i.icon):null),a=o.computed(()=>{const _={};return i.width&&(_.width=`${i.width}px`),i.height&&(_.height=`${i.height}px`),_}),S=o.computed(()=>typeof i.icon=="string"&&d.getIcon(i.icon));return{svgIcon:c,iconStyle:a,isStringIcon:S,TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS}}}),cs=["innerHTML"];function fs(i,c,a,S,_,m){return i.isStringIcon?(o.openBlock(),o.createElementBlock("span",{key:0,style:o.normalizeStyle(i.iconStyle),class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-icon`),innerHTML:i.svgIcon},null,14,cs)):i.icon&&typeof i.icon=="object"?(o.openBlock(),o.createBlock(o.resolveDynamicComponent(i.icon),{key:1,style:o.normalizeStyle(i.iconStyle)},null,8,["style"])):o.createCommentVNode("",!0)}const ps=te(us,[["render",fs]]),ds=o.defineComponent({name:"TooltipInterpretation",props:["name","icon","text","content"],setup(){return{TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS}},components:{TooltipIcon:ps}}),hs={key:0},gs={key:1};function _s(i,c,a,S,_,m){const E=o.resolveComponent("TooltipIcon");return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-interpretation`)},[o.createElementVNode("div",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-interpretation-head`)},[o.createVNode(E,{icon:i.icon,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-interpretation-icon`)},null,8,["icon","class"]),i.name?(o.openBlock(),o.createElementBlock("span",{key:0,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-interpretation-name`)},o.toDisplayString(i.name),3)):o.createCommentVNode("",!0)],2),i.text?(o.openBlock(),o.createElementBlock("div",hs,o.toDisplayString(i.text),1)):o.createCommentVNode("",!0),i.content?o.renderSlot(i.$slots,"content",{key:1},()=>[typeof i.content=="object"?(o.openBlock(),o.createBlock(o.resolveDynamicComponent(i.content),{key:0})):(o.openBlock(),o.createElementBlock("span",gs,o.toDisplayString(i.content),1))]):o.createCommentVNode("",!0)],2)}const Cs=te(ds,[["render",_s]]),ms=o.defineComponent({name:"TooltipSimpleTips",props:["name","tips"],setup(){return{TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS}},components:{}});function Es(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock(o.Fragment,null,[i.name?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-name`)},o.toDisplayString(i.name),3)):o.createCommentVNode("",!0),i.tips?(o.openBlock(),o.createElementBlock("div",{key:1,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-tips`)},o.toDisplayString(i.tips),3)):o.createCommentVNode("",!0)],64)}const Ss=te(ms,[["render",Es]]);var st=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},$t={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */$t.exports,function(i,c){(function(){var a,S="4.17.21",_=200,m="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",E="Expected a function",A="Invalid `variable` option passed into `_.template`",M="__lodash_hash_undefined__",W=500,$="__lodash_placeholder__",O=1,R=2,v=4,T=1,D=2,B=1,k=2,re=4,Y=8,j=16,oe=32,ue=64,ge=128,Se=256,Sn=512,Wn=30,Nt="...",Ft=800,kt=16,ut=1,bt=2,Ut=3,tn=1/0,qe=9007199254740991,xt=17976931348623157e292,Bn=NaN,$e=4294967295,Qu=$e-1,ju=$e>>>1,ec=[["ary",ge],["bind",B],["bindKey",k],["curry",Y],["curryRight",j],["flip",Sn],["partial",oe],["partialRight",ue],["rearg",Se]],Hn="[object Arguments]",zt="[object Array]",nc="[object AsyncFunction]",ct="[object Boolean]",ft="[object Date]",tc="[object DOMException]",Wt="[object Error]",Ht="[object Function]",wi="[object GeneratorFunction]",Ze="[object Map]",pt="[object Number]",rc="[object Null]",un="[object Object]",yi="[object Promise]",oc="[object Proxy]",dt="[object RegExp]",Je="[object Set]",ht="[object String]",Vt="[object Symbol]",ic="[object Undefined]",gt="[object WeakMap]",lc="[object WeakSet]",_t="[object ArrayBuffer]",Vn="[object DataView]",Vr="[object Float32Array]",Xr="[object Float64Array]",Gr="[object Int8Array]",Yr="[object Int16Array]",Kr="[object Int32Array]",qr="[object Uint8Array]",Zr="[object Uint8ClampedArray]",Jr="[object Uint16Array]",Qr="[object Uint32Array]",ac=/\b__p \+= '';/g,sc=/\b(__p \+=) '' \+/g,uc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Oi=/&(?:amp|lt|gt|quot|#39);/g,Ti=/[&<>"']/g,cc=RegExp(Oi.source),fc=RegExp(Ti.source),pc=/<%-([\s\S]+?)%>/g,dc=/<%([\s\S]+?)%>/g,Ii=/<%=([\s\S]+?)%>/g,hc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gc=/^\w*$/,_c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jr=/[\\^$.*+?()[\]{}|]/g,Cc=RegExp(jr.source),eo=/^\s+/,mc=/\s/,Ec=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Sc=/\{\n\/\* \[wrapped with (.+)\] \*/,Lc=/,? & /,wc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yc=/[()=,{}\[\]\/\s]/,Oc=/\\(\\)?/g,Tc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vi=/\w*$/,Ic=/^[-+]0x[0-9a-f]+$/i,vc=/^0b[01]+$/i,Ac=/^\[object .+?Constructor\]$/,Rc=/^0o[0-7]+$/i,Dc=/^(?:0|[1-9]\d*)$/,Bc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Pc=/['\n\r\u2028\u2029\\]/g,Gt="\\ud800-\\udfff",Mc="\\u0300-\\u036f",$c="\\ufe20-\\ufe2f",Nc="\\u20d0-\\u20ff",Ai=Mc+$c+Nc,Ri="\\u2700-\\u27bf",Di="a-z\\xdf-\\xf6\\xf8-\\xff",Fc="\\xac\\xb1\\xd7\\xf7",kc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bc="\\u2000-\\u206f",Uc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Bi="A-Z\\xc0-\\xd6\\xd8-\\xde",Pi="\\ufe0e\\ufe0f",Mi=Fc+kc+bc+Uc,no="['’]",xc="["+Gt+"]",$i="["+Mi+"]",Yt="["+Ai+"]",Ni="\\d+",zc="["+Ri+"]",Fi="["+Di+"]",ki="[^"+Gt+Mi+Ni+Ri+Di+Bi+"]",to="\\ud83c[\\udffb-\\udfff]",Wc="(?:"+Yt+"|"+to+")",bi="[^"+Gt+"]",ro="(?:\\ud83c[\\udde6-\\uddff]){2}",oo="[\\ud800-\\udbff][\\udc00-\\udfff]",Xn="["+Bi+"]",Ui="\\u200d",xi="(?:"+Fi+"|"+ki+")",Hc="(?:"+Xn+"|"+ki+")",zi="(?:"+no+"(?:d|ll|m|re|s|t|ve))?",Wi="(?:"+no+"(?:D|LL|M|RE|S|T|VE))?",Hi=Wc+"?",Vi="["+Pi+"]?",Vc="(?:"+Ui+"(?:"+[bi,ro,oo].join("|")+")"+Vi+Hi+")*",Xc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xi=Vi+Hi+Vc,Yc="(?:"+[zc,ro,oo].join("|")+")"+Xi,Kc="(?:"+[bi+Yt+"?",Yt,ro,oo,xc].join("|")+")",qc=RegExp(no,"g"),Zc=RegExp(Yt,"g"),io=RegExp(to+"(?="+to+")|"+Kc+Xi,"g"),Jc=RegExp([Xn+"?"+Fi+"+"+zi+"(?="+[$i,Xn,"$"].join("|")+")",Hc+"+"+Wi+"(?="+[$i,Xn+xi,"$"].join("|")+")",Xn+"?"+xi+"+"+zi,Xn+"+"+Wi,Gc,Xc,Ni,Yc].join("|"),"g"),Qc=RegExp("["+Ui+Gt+Ai+Pi+"]"),jc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ef=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nf=-1,fe={};fe[Vr]=fe[Xr]=fe[Gr]=fe[Yr]=fe[Kr]=fe[qr]=fe[Zr]=fe[Jr]=fe[Qr]=!0,fe[Hn]=fe[zt]=fe[_t]=fe[ct]=fe[Vn]=fe[ft]=fe[Wt]=fe[Ht]=fe[Ze]=fe[pt]=fe[un]=fe[dt]=fe[Je]=fe[ht]=fe[gt]=!1;var ce={};ce[Hn]=ce[zt]=ce[_t]=ce[Vn]=ce[ct]=ce[ft]=ce[Vr]=ce[Xr]=ce[Gr]=ce[Yr]=ce[Kr]=ce[Ze]=ce[pt]=ce[un]=ce[dt]=ce[Je]=ce[ht]=ce[Vt]=ce[qr]=ce[Zr]=ce[Jr]=ce[Qr]=!0,ce[Wt]=ce[Ht]=ce[gt]=!1;var tf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},rf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},of={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},af=parseFloat,sf=parseInt,Gi=typeof st=="object"&&st&&st.Object===Object&&st,uf=typeof self=="object"&&self&&self.Object===Object&&self,we=Gi||uf||Function("return this")(),lo=c&&!c.nodeType&&c,Pn=lo&&!0&&i&&!i.nodeType&&i,Yi=Pn&&Pn.exports===lo,ao=Yi&&Gi.process,ze=function(){try{var h=Pn&&Pn.require&&Pn.require("util").types;return h||ao&&ao.binding&&ao.binding("util")}catch(L){}}(),Ki=ze&&ze.isArrayBuffer,qi=ze&&ze.isDate,Zi=ze&&ze.isMap,Ji=ze&&ze.isRegExp,Qi=ze&&ze.isSet,ji=ze&&ze.isTypedArray;function Ne(h,L,C){switch(C.length){case 0:return h.call(L);case 1:return h.call(L,C[0]);case 2:return h.call(L,C[0],C[1]);case 3:return h.call(L,C[0],C[1],C[2])}return h.apply(L,C)}function cf(h,L,C,N){for(var H=-1,ie=h==null?0:h.length;++H<ie;){var me=h[H];L(N,me,C(me),h)}return N}function We(h,L){for(var C=-1,N=h==null?0:h.length;++C<N&&L(h[C],C,h)!==!1;);return h}function ff(h,L){for(var C=h==null?0:h.length;C--&&L(h[C],C,h)!==!1;);return h}function el(h,L){for(var C=-1,N=h==null?0:h.length;++C<N;)if(!L(h[C],C,h))return!1;return!0}function Ln(h,L){for(var C=-1,N=h==null?0:h.length,H=0,ie=[];++C<N;){var me=h[C];L(me,C,h)&&(ie[H++]=me)}return ie}function Kt(h,L){var C=h==null?0:h.length;return!!C&&Gn(h,L,0)>-1}function so(h,L,C){for(var N=-1,H=h==null?0:h.length;++N<H;)if(C(L,h[N]))return!0;return!1}function pe(h,L){for(var C=-1,N=h==null?0:h.length,H=Array(N);++C<N;)H[C]=L(h[C],C,h);return H}function wn(h,L){for(var C=-1,N=L.length,H=h.length;++C<N;)h[H+C]=L[C];return h}function uo(h,L,C,N){var H=-1,ie=h==null?0:h.length;for(N&&ie&&(C=h[++H]);++H<ie;)C=L(C,h[H],H,h);return C}function pf(h,L,C,N){var H=h==null?0:h.length;for(N&&H&&(C=h[--H]);H--;)C=L(C,h[H],H,h);return C}function co(h,L){for(var C=-1,N=h==null?0:h.length;++C<N;)if(L(h[C],C,h))return!0;return!1}var df=fo("length");function hf(h){return h.split("")}function gf(h){return h.match(wc)||[]}function nl(h,L,C){var N;return C(h,function(H,ie,me){if(L(H,ie,me))return N=ie,!1}),N}function qt(h,L,C,N){for(var H=h.length,ie=C+(N?1:-1);N?ie--:++ie<H;)if(L(h[ie],ie,h))return ie;return-1}function Gn(h,L,C){return L===L?vf(h,L,C):qt(h,tl,C)}function _f(h,L,C,N){for(var H=C-1,ie=h.length;++H<ie;)if(N(h[H],L))return H;return-1}function tl(h){return h!==h}function rl(h,L){var C=h==null?0:h.length;return C?ho(h,L)/C:Bn}function fo(h){return function(L){return L==null?a:L[h]}}function po(h){return function(L){return h==null?a:h[L]}}function ol(h,L,C,N,H){return H(h,function(ie,me,se){C=N?(N=!1,ie):L(C,ie,me,se)}),C}function Cf(h,L){var C=h.length;for(h.sort(L);C--;)h[C]=h[C].value;return h}function ho(h,L){for(var C,N=-1,H=h.length;++N<H;){var ie=L(h[N]);ie!==a&&(C=C===a?ie:C+ie)}return C}function go(h,L){for(var C=-1,N=Array(h);++C<h;)N[C]=L(C);return N}function mf(h,L){return pe(L,function(C){return[C,h[C]]})}function il(h){return h&&h.slice(0,ul(h)+1).replace(eo,"")}function Fe(h){return function(L){return h(L)}}function _o(h,L){return pe(L,function(C){return h[C]})}function Ct(h,L){return h.has(L)}function ll(h,L){for(var C=-1,N=h.length;++C<N&&Gn(L,h[C],0)>-1;);return C}function al(h,L){for(var C=h.length;C--&&Gn(L,h[C],0)>-1;);return C}function Ef(h,L){for(var C=h.length,N=0;C--;)h[C]===L&&++N;return N}var Sf=po(tf),Lf=po(rf);function wf(h){return"\\"+lf[h]}function yf(h,L){return h==null?a:h[L]}function Yn(h){return Qc.test(h)}function Of(h){return jc.test(h)}function Tf(h){for(var L,C=[];!(L=h.next()).done;)C.push(L.value);return C}function Co(h){var L=-1,C=Array(h.size);return h.forEach(function(N,H){C[++L]=[H,N]}),C}function sl(h,L){return function(C){return h(L(C))}}function yn(h,L){for(var C=-1,N=h.length,H=0,ie=[];++C<N;){var me=h[C];(me===L||me===$)&&(h[C]=$,ie[H++]=C)}return ie}function Zt(h){var L=-1,C=Array(h.size);return h.forEach(function(N){C[++L]=N}),C}function If(h){var L=-1,C=Array(h.size);return h.forEach(function(N){C[++L]=[N,N]}),C}function vf(h,L,C){for(var N=C-1,H=h.length;++N<H;)if(h[N]===L)return N;return-1}function Af(h,L,C){for(var N=C+1;N--;)if(h[N]===L)return N;return N}function Kn(h){return Yn(h)?Df(h):df(h)}function Qe(h){return Yn(h)?Bf(h):hf(h)}function ul(h){for(var L=h.length;L--&&mc.test(h.charAt(L)););return L}var Rf=po(of);function Df(h){for(var L=io.lastIndex=0;io.test(h);)++L;return L}function Bf(h){return h.match(io)||[]}function Pf(h){return h.match(Jc)||[]}var Mf=function h(L){L=L==null?we:qn.defaults(we.Object(),L,qn.pick(we,ef));var C=L.Array,N=L.Date,H=L.Error,ie=L.Function,me=L.Math,se=L.Object,mo=L.RegExp,$f=L.String,He=L.TypeError,Jt=C.prototype,Nf=ie.prototype,Zn=se.prototype,Qt=L["__core-js_shared__"],jt=Nf.toString,ae=Zn.hasOwnProperty,Ff=0,cl=function(){var e=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),er=Zn.toString,kf=jt.call(se),bf=we._,Uf=mo("^"+jt.call(ae).replace(jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nr=Yi?L.Buffer:a,On=L.Symbol,tr=L.Uint8Array,fl=nr?nr.allocUnsafe:a,rr=sl(se.getPrototypeOf,se),pl=se.create,dl=Zn.propertyIsEnumerable,or=Jt.splice,hl=On?On.isConcatSpreadable:a,mt=On?On.iterator:a,Mn=On?On.toStringTag:a,ir=function(){try{var e=bn(se,"defineProperty");return e({},"",{}),e}catch(n){}}(),xf=L.clearTimeout!==we.clearTimeout&&L.clearTimeout,zf=N&&N.now!==we.Date.now&&N.now,Wf=L.setTimeout!==we.setTimeout&&L.setTimeout,lr=me.ceil,ar=me.floor,Eo=se.getOwnPropertySymbols,Hf=nr?nr.isBuffer:a,gl=L.isFinite,Vf=Jt.join,Xf=sl(se.keys,se),Ee=me.max,Oe=me.min,Gf=N.now,Yf=L.parseInt,_l=me.random,Kf=Jt.reverse,So=bn(L,"DataView"),Et=bn(L,"Map"),Lo=bn(L,"Promise"),Jn=bn(L,"Set"),St=bn(L,"WeakMap"),Lt=bn(se,"create"),sr=St&&new St,Qn={},qf=Un(So),Zf=Un(Et),Jf=Un(Lo),Qf=Un(Jn),jf=Un(St),ur=On?On.prototype:a,wt=ur?ur.valueOf:a,Cl=ur?ur.toString:a;function s(e){if(he(e)&&!X(e)&&!(e instanceof J)){if(e instanceof Ve)return e;if(ae.call(e,"__wrapped__"))return ma(e)}return new Ve(e)}var jn=function(){function e(){}return function(n){if(!de(n))return{};if(pl)return pl(n);e.prototype=n;var t=new e;return e.prototype=a,t}}();function cr(){}function Ve(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=a}s.templateSettings={escape:pc,evaluate:dc,interpolate:Ii,variable:"",imports:{_:s}},s.prototype=cr.prototype,s.prototype.constructor=s,Ve.prototype=jn(cr.prototype),Ve.prototype.constructor=Ve;function J(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$e,this.__views__=[]}function ep(){var e=new J(this.__wrapped__);return e.__actions__=De(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=De(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=De(this.__views__),e}function np(){if(this.__filtered__){var e=new J(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function tp(){var e=this.__wrapped__.value(),n=this.__dir__,t=X(e),r=n<0,l=t?e.length:0,u=hd(0,l,this.__views__),f=u.start,p=u.end,g=p-f,w=r?p:f-1,y=this.__iteratees__,I=y.length,P=0,F=Oe(g,this.__takeCount__);if(!t||!r&&l==g&&F==g)return zl(e,this.__actions__);var x=[];e:for(;g--&&P<F;){w+=n;for(var K=-1,z=e[w];++K<I;){var Z=y[K],ee=Z.iteratee,Ue=Z.type,Ae=ee(z);if(Ue==bt)z=Ae;else if(!Ae){if(Ue==ut)continue e;break e}}x[P++]=z}return x}J.prototype=jn(cr.prototype),J.prototype.constructor=J;function $n(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function rp(){this.__data__=Lt?Lt(null):{},this.size=0}function op(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}function ip(e){var n=this.__data__;if(Lt){var t=n[e];return t===M?a:t}return ae.call(n,e)?n[e]:a}function lp(e){var n=this.__data__;return Lt?n[e]!==a:ae.call(n,e)}function ap(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Lt&&n===a?M:n,this}$n.prototype.clear=rp,$n.prototype.delete=op,$n.prototype.get=ip,$n.prototype.has=lp,$n.prototype.set=ap;function cn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function sp(){this.__data__=[],this.size=0}function up(e){var n=this.__data__,t=fr(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():or.call(n,t,1),--this.size,!0}function cp(e){var n=this.__data__,t=fr(n,e);return t<0?a:n[t][1]}function fp(e){return fr(this.__data__,e)>-1}function pp(e,n){var t=this.__data__,r=fr(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}cn.prototype.clear=sp,cn.prototype.delete=up,cn.prototype.get=cp,cn.prototype.has=fp,cn.prototype.set=pp;function fn(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}function dp(){this.size=0,this.__data__={hash:new $n,map:new(Et||cn),string:new $n}}function hp(e){var n=yr(this,e).delete(e);return this.size-=n?1:0,n}function gp(e){return yr(this,e).get(e)}function _p(e){return yr(this,e).has(e)}function Cp(e,n){var t=yr(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}fn.prototype.clear=dp,fn.prototype.delete=hp,fn.prototype.get=gp,fn.prototype.has=_p,fn.prototype.set=Cp;function Nn(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new fn;++n<t;)this.add(e[n])}function mp(e){return this.__data__.set(e,M),this}function Ep(e){return this.__data__.has(e)}Nn.prototype.add=Nn.prototype.push=mp,Nn.prototype.has=Ep;function je(e){var n=this.__data__=new cn(e);this.size=n.size}function Sp(){this.__data__=new cn,this.size=0}function Lp(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function wp(e){return this.__data__.get(e)}function yp(e){return this.__data__.has(e)}function Op(e,n){var t=this.__data__;if(t instanceof cn){var r=t.__data__;if(!Et||r.length<_-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new fn(r)}return t.set(e,n),this.size=t.size,this}je.prototype.clear=Sp,je.prototype.delete=Lp,je.prototype.get=wp,je.prototype.has=yp,je.prototype.set=Op;function ml(e,n){var t=X(e),r=!t&&xn(e),l=!t&&!r&&Rn(e),u=!t&&!r&&!l&&rt(e),f=t||r||l||u,p=f?go(e.length,$f):[],g=p.length;for(var w in e)(n||ae.call(e,w))&&!(f&&(w=="length"||l&&(w=="offset"||w=="parent")||u&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||gn(w,g)))&&p.push(w);return p}function El(e){var n=e.length;return n?e[Po(0,n-1)]:a}function Tp(e,n){return Or(De(e),Fn(n,0,e.length))}function Ip(e){return Or(De(e))}function wo(e,n,t){(t!==a&&!en(e[n],t)||t===a&&!(n in e))&&pn(e,n,t)}function yt(e,n,t){var r=e[n];(!(ae.call(e,n)&&en(r,t))||t===a&&!(n in e))&&pn(e,n,t)}function fr(e,n){for(var t=e.length;t--;)if(en(e[t][0],n))return t;return-1}function vp(e,n,t,r){return Tn(e,function(l,u,f){n(r,l,t(l),f)}),r}function Sl(e,n){return e&&on(n,Le(n),e)}function Ap(e,n){return e&&on(n,Pe(n),e)}function pn(e,n,t){n=="__proto__"&&ir?ir(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function yo(e,n){for(var t=-1,r=n.length,l=C(r),u=e==null;++t<r;)l[t]=u?a:ri(e,n[t]);return l}function Fn(e,n,t){return e===e&&(t!==a&&(e=e<=t?e:t),n!==a&&(e=e>=n?e:n)),e}function Xe(e,n,t,r,l,u){var f,p=n&O,g=n&R,w=n&v;if(t&&(f=l?t(e,r,l,u):t(e)),f!==a)return f;if(!de(e))return e;var y=X(e);if(y){if(f=_d(e),!p)return De(e,f)}else{var I=Te(e),P=I==Ht||I==wi;if(Rn(e))return Vl(e,p);if(I==un||I==Hn||P&&!l){if(f=g||P?{}:ua(e),!p)return g?id(e,Ap(f,e)):od(e,Sl(f,e))}else{if(!ce[I])return l?e:{};f=Cd(e,I,p)}}u||(u=new je);var F=u.get(e);if(F)return F;u.set(e,f),ba(e)?e.forEach(function(z){f.add(Xe(z,n,t,z,e,u))}):Fa(e)&&e.forEach(function(z,Z){f.set(Z,Xe(z,n,t,Z,e,u))});var x=w?g?Ho:Wo:g?Pe:Le,K=y?a:x(e);return We(K||e,function(z,Z){K&&(Z=z,z=e[Z]),yt(f,Z,Xe(z,n,t,Z,e,u))}),f}function Rp(e){var n=Le(e);return function(t){return Ll(t,e,n)}}function Ll(e,n,t){var r=t.length;if(e==null)return!r;for(e=se(e);r--;){var l=t[r],u=n[l],f=e[l];if(f===a&&!(l in e)||!u(f))return!1}return!0}function wl(e,n,t){if(typeof e!="function")throw new He(E);return Dt(function(){e.apply(a,t)},n)}function Ot(e,n,t,r){var l=-1,u=Kt,f=!0,p=e.length,g=[],w=n.length;if(!p)return g;t&&(n=pe(n,Fe(t))),r?(u=so,f=!1):n.length>=_&&(u=Ct,f=!1,n=new Nn(n));e:for(;++l<p;){var y=e[l],I=t==null?y:t(y);if(y=r||y!==0?y:0,f&&I===I){for(var P=w;P--;)if(n[P]===I)continue e;g.push(y)}else u(n,I,r)||g.push(y)}return g}var Tn=ql(rn),yl=ql(To,!0);function Dp(e,n){var t=!0;return Tn(e,function(r,l,u){return t=!!n(r,l,u),t}),t}function pr(e,n,t){for(var r=-1,l=e.length;++r<l;){var u=e[r],f=n(u);if(f!=null&&(p===a?f===f&&!be(f):t(f,p)))var p=f,g=u}return g}function Bp(e,n,t,r){var l=e.length;for(t=G(t),t<0&&(t=-t>l?0:l+t),r=r===a||r>l?l:G(r),r<0&&(r+=l),r=t>r?0:xa(r);t<r;)e[t++]=n;return e}function Ol(e,n){var t=[];return Tn(e,function(r,l,u){n(r,l,u)&&t.push(r)}),t}function ye(e,n,t,r,l){var u=-1,f=e.length;for(t||(t=Ed),l||(l=[]);++u<f;){var p=e[u];n>0&&t(p)?n>1?ye(p,n-1,t,r,l):wn(l,p):r||(l[l.length]=p)}return l}var Oo=Zl(),Tl=Zl(!0);function rn(e,n){return e&&Oo(e,n,Le)}function To(e,n){return e&&Tl(e,n,Le)}function dr(e,n){return Ln(n,function(t){return _n(e[t])})}function kn(e,n){n=vn(n,e);for(var t=0,r=n.length;e!=null&&t<r;)e=e[ln(n[t++])];return t&&t==r?e:a}function Il(e,n,t){var r=n(e);return X(e)?r:wn(r,t(e))}function Ie(e){return e==null?e===a?ic:rc:Mn&&Mn in se(e)?dd(e):Id(e)}function Io(e,n){return e>n}function Pp(e,n){return e!=null&&ae.call(e,n)}function Mp(e,n){return e!=null&&n in se(e)}function $p(e,n,t){return e>=Oe(n,t)&&e<Ee(n,t)}function vo(e,n,t){for(var r=t?so:Kt,l=e[0].length,u=e.length,f=u,p=C(u),g=1/0,w=[];f--;){var y=e[f];f&&n&&(y=pe(y,Fe(n))),g=Oe(y.length,g),p[f]=!t&&(n||l>=120&&y.length>=120)?new Nn(f&&y):a}y=e[0];var I=-1,P=p[0];e:for(;++I<l&&w.length<g;){var F=y[I],x=n?n(F):F;if(F=t||F!==0?F:0,!(P?Ct(P,x):r(w,x,t))){for(f=u;--f;){var K=p[f];if(!(K?Ct(K,x):r(e[f],x,t)))continue e}P&&P.push(x),w.push(F)}}return w}function Np(e,n,t,r){return rn(e,function(l,u,f){n(r,t(l),u,f)}),r}function Tt(e,n,t){n=vn(n,e),e=da(e,n);var r=e==null?e:e[ln(Ye(n))];return r==null?a:Ne(r,e,t)}function vl(e){return he(e)&&Ie(e)==Hn}function Fp(e){return he(e)&&Ie(e)==_t}function kp(e){return he(e)&&Ie(e)==ft}function It(e,n,t,r,l){return e===n?!0:e==null||n==null||!he(e)&&!he(n)?e!==e&&n!==n:bp(e,n,t,r,It,l)}function bp(e,n,t,r,l,u){var f=X(e),p=X(n),g=f?zt:Te(e),w=p?zt:Te(n);g=g==Hn?un:g,w=w==Hn?un:w;var y=g==un,I=w==un,P=g==w;if(P&&Rn(e)){if(!Rn(n))return!1;f=!0,y=!1}if(P&&!y)return u||(u=new je),f||rt(e)?la(e,n,t,r,l,u):fd(e,n,g,t,r,l,u);if(!(t&T)){var F=y&&ae.call(e,"__wrapped__"),x=I&&ae.call(n,"__wrapped__");if(F||x){var K=F?e.value():e,z=x?n.value():n;return u||(u=new je),l(K,z,t,r,u)}}return P?(u||(u=new je),pd(e,n,t,r,l,u)):!1}function Up(e){return he(e)&&Te(e)==Ze}function Ao(e,n,t,r){var l=t.length,u=l,f=!r;if(e==null)return!u;for(e=se(e);l--;){var p=t[l];if(f&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<u;){p=t[l];var g=p[0],w=e[g],y=p[1];if(f&&p[2]){if(w===a&&!(g in e))return!1}else{var I=new je;if(r)var P=r(w,y,g,e,n,I);if(!(P===a?It(y,w,T|D,r,I):P))return!1}}return!0}function Al(e){if(!de(e)||Ld(e))return!1;var n=_n(e)?Uf:Ac;return n.test(Un(e))}function xp(e){return he(e)&&Ie(e)==dt}function zp(e){return he(e)&&Te(e)==Je}function Wp(e){return he(e)&&Dr(e.length)&&!!fe[Ie(e)]}function Rl(e){return typeof e=="function"?e:e==null?Me:typeof e=="object"?X(e)?Pl(e[0],e[1]):Bl(e):Ja(e)}function Ro(e){if(!Rt(e))return Xf(e);var n=[];for(var t in se(e))ae.call(e,t)&&t!="constructor"&&n.push(t);return n}function Hp(e){if(!de(e))return Td(e);var n=Rt(e),t=[];for(var r in e)r=="constructor"&&(n||!ae.call(e,r))||t.push(r);return t}function Do(e,n){return e<n}function Dl(e,n){var t=-1,r=Be(e)?C(e.length):[];return Tn(e,function(l,u,f){r[++t]=n(l,u,f)}),r}function Bl(e){var n=Xo(e);return n.length==1&&n[0][2]?fa(n[0][0],n[0][1]):function(t){return t===e||Ao(t,e,n)}}function Pl(e,n){return Yo(e)&&ca(n)?fa(ln(e),n):function(t){var r=ri(t,e);return r===a&&r===n?oi(t,e):It(n,r,T|D)}}function hr(e,n,t,r,l){e!==n&&Oo(n,function(u,f){if(l||(l=new je),de(u))Vp(e,n,f,t,hr,r,l);else{var p=r?r(qo(e,f),u,f+"",e,n,l):a;p===a&&(p=u),wo(e,f,p)}},Pe)}function Vp(e,n,t,r,l,u,f){var p=qo(e,t),g=qo(n,t),w=f.get(g);if(w){wo(e,t,w);return}var y=u?u(p,g,t+"",e,n,f):a,I=y===a;if(I){var P=X(g),F=!P&&Rn(g),x=!P&&!F&&rt(g);y=g,P||F||x?X(p)?y=p:_e(p)?y=De(p):F?(I=!1,y=Vl(g,!0)):x?(I=!1,y=Xl(g,!0)):y=[]:Bt(g)||xn(g)?(y=p,xn(p)?y=za(p):(!de(p)||_n(p))&&(y=ua(g))):I=!1}I&&(f.set(g,y),l(y,g,r,u,f),f.delete(g)),wo(e,t,y)}function Ml(e,n){var t=e.length;if(t)return n+=n<0?t:0,gn(n,t)?e[n]:a}function $l(e,n,t){n.length?n=pe(n,function(u){return X(u)?function(f){return kn(f,u.length===1?u[0]:u)}:u}):n=[Me];var r=-1;n=pe(n,Fe(U()));var l=Dl(e,function(u,f,p){var g=pe(n,function(w){return w(u)});return{criteria:g,index:++r,value:u}});return Cf(l,function(u,f){return rd(u,f,t)})}function Xp(e,n){return Nl(e,n,function(t,r){return oi(e,r)})}function Nl(e,n,t){for(var r=-1,l=n.length,u={};++r<l;){var f=n[r],p=kn(e,f);t(p,f)&&vt(u,vn(f,e),p)}return u}function Gp(e){return function(n){return kn(n,e)}}function Bo(e,n,t,r){var l=r?_f:Gn,u=-1,f=n.length,p=e;for(e===n&&(n=De(n)),t&&(p=pe(e,Fe(t)));++u<f;)for(var g=0,w=n[u],y=t?t(w):w;(g=l(p,y,g,r))>-1;)p!==e&&or.call(p,g,1),or.call(e,g,1);return e}function Fl(e,n){for(var t=e?n.length:0,r=t-1;t--;){var l=n[t];if(t==r||l!==u){var u=l;gn(l)?or.call(e,l,1):No(e,l)}}return e}function Po(e,n){return e+ar(_l()*(n-e+1))}function Yp(e,n,t,r){for(var l=-1,u=Ee(lr((n-e)/(t||1)),0),f=C(u);u--;)f[r?u:++l]=e,e+=t;return f}function Mo(e,n){var t="";if(!e||n<1||n>qe)return t;do n%2&&(t+=e),n=ar(n/2),n&&(e+=e);while(n);return t}function q(e,n){return Zo(pa(e,n,Me),e+"")}function Kp(e){return El(ot(e))}function qp(e,n){var t=ot(e);return Or(t,Fn(n,0,t.length))}function vt(e,n,t,r){if(!de(e))return e;n=vn(n,e);for(var l=-1,u=n.length,f=u-1,p=e;p!=null&&++l<u;){var g=ln(n[l]),w=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(l!=f){var y=p[g];w=r?r(y,g,p):a,w===a&&(w=de(y)?y:gn(n[l+1])?[]:{})}yt(p,g,w),p=p[g]}return e}var kl=sr?function(e,n){return sr.set(e,n),e}:Me,Zp=ir?function(e,n){return ir(e,"toString",{configurable:!0,enumerable:!1,value:li(n),writable:!0})}:Me;function Jp(e){return Or(ot(e))}function Ge(e,n,t){var r=-1,l=e.length;n<0&&(n=-n>l?0:l+n),t=t>l?l:t,t<0&&(t+=l),l=n>t?0:t-n>>>0,n>>>=0;for(var u=C(l);++r<l;)u[r]=e[r+n];return u}function Qp(e,n){var t;return Tn(e,function(r,l,u){return t=n(r,l,u),!t}),!!t}function gr(e,n,t){var r=0,l=e==null?r:e.length;if(typeof n=="number"&&n===n&&l<=ju){for(;r<l;){var u=r+l>>>1,f=e[u];f!==null&&!be(f)&&(t?f<=n:f<n)?r=u+1:l=u}return l}return $o(e,n,Me,t)}function $o(e,n,t,r){var l=0,u=e==null?0:e.length;if(u===0)return 0;n=t(n);for(var f=n!==n,p=n===null,g=be(n),w=n===a;l<u;){var y=ar((l+u)/2),I=t(e[y]),P=I!==a,F=I===null,x=I===I,K=be(I);if(f)var z=r||x;else w?z=x&&(r||P):p?z=x&&P&&(r||!F):g?z=x&&P&&!F&&(r||!K):F||K?z=!1:z=r?I<=n:I<n;z?l=y+1:u=y}return Oe(u,Qu)}function bl(e,n){for(var t=-1,r=e.length,l=0,u=[];++t<r;){var f=e[t],p=n?n(f):f;if(!t||!en(p,g)){var g=p;u[l++]=f===0?0:f}}return u}function Ul(e){return typeof e=="number"?e:be(e)?Bn:+e}function ke(e){if(typeof e=="string")return e;if(X(e))return pe(e,ke)+"";if(be(e))return Cl?Cl.call(e):"";var n=e+"";return n=="0"&&1/e==-tn?"-0":n}function In(e,n,t){var r=-1,l=Kt,u=e.length,f=!0,p=[],g=p;if(t)f=!1,l=so;else if(u>=_){var w=n?null:ud(e);if(w)return Zt(w);f=!1,l=Ct,g=new Nn}else g=n?[]:p;e:for(;++r<u;){var y=e[r],I=n?n(y):y;if(y=t||y!==0?y:0,f&&I===I){for(var P=g.length;P--;)if(g[P]===I)continue e;n&&g.push(I),p.push(y)}else l(g,I,t)||(g!==p&&g.push(I),p.push(y))}return p}function No(e,n){return n=vn(n,e),e=da(e,n),e==null||delete e[ln(Ye(n))]}function xl(e,n,t,r){return vt(e,n,t(kn(e,n)),r)}function _r(e,n,t,r){for(var l=e.length,u=r?l:-1;(r?u--:++u<l)&&n(e[u],u,e););return t?Ge(e,r?0:u,r?u+1:l):Ge(e,r?u+1:0,r?l:u)}function zl(e,n){var t=e;return t instanceof J&&(t=t.value()),uo(n,function(r,l){return l.func.apply(l.thisArg,wn([r],l.args))},t)}function Fo(e,n,t){var r=e.length;if(r<2)return r?In(e[0]):[];for(var l=-1,u=C(r);++l<r;)for(var f=e[l],p=-1;++p<r;)p!=l&&(u[l]=Ot(u[l]||f,e[p],n,t));return In(ye(u,1),n,t)}function Wl(e,n,t){for(var r=-1,l=e.length,u=n.length,f={};++r<l;){var p=r<u?n[r]:a;t(f,e[r],p)}return f}function ko(e){return _e(e)?e:[]}function bo(e){return typeof e=="function"?e:Me}function vn(e,n){return X(e)?e:Yo(e,n)?[e]:Ca(le(e))}var jp=q;function An(e,n,t){var r=e.length;return t=t===a?r:t,!n&&t>=r?e:Ge(e,n,t)}var Hl=xf||function(e){return we.clearTimeout(e)};function Vl(e,n){if(n)return e.slice();var t=e.length,r=fl?fl(t):new e.constructor(t);return e.copy(r),r}function Uo(e){var n=new e.constructor(e.byteLength);return new tr(n).set(new tr(e)),n}function ed(e,n){var t=n?Uo(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}function nd(e){var n=new e.constructor(e.source,vi.exec(e));return n.lastIndex=e.lastIndex,n}function td(e){return wt?se(wt.call(e)):{}}function Xl(e,n){var t=n?Uo(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function Gl(e,n){if(e!==n){var t=e!==a,r=e===null,l=e===e,u=be(e),f=n!==a,p=n===null,g=n===n,w=be(n);if(!p&&!w&&!u&&e>n||u&&f&&g&&!p&&!w||r&&f&&g||!t&&g||!l)return 1;if(!r&&!u&&!w&&e<n||w&&t&&l&&!r&&!u||p&&t&&l||!f&&l||!g)return-1}return 0}function rd(e,n,t){for(var r=-1,l=e.criteria,u=n.criteria,f=l.length,p=t.length;++r<f;){var g=Gl(l[r],u[r]);if(g){if(r>=p)return g;var w=t[r];return g*(w=="desc"?-1:1)}}return e.index-n.index}function Yl(e,n,t,r){for(var l=-1,u=e.length,f=t.length,p=-1,g=n.length,w=Ee(u-f,0),y=C(g+w),I=!r;++p<g;)y[p]=n[p];for(;++l<f;)(I||l<u)&&(y[t[l]]=e[l]);for(;w--;)y[p++]=e[l++];return y}function Kl(e,n,t,r){for(var l=-1,u=e.length,f=-1,p=t.length,g=-1,w=n.length,y=Ee(u-p,0),I=C(y+w),P=!r;++l<y;)I[l]=e[l];for(var F=l;++g<w;)I[F+g]=n[g];for(;++f<p;)(P||l<u)&&(I[F+t[f]]=e[l++]);return I}function De(e,n){var t=-1,r=e.length;for(n||(n=C(r));++t<r;)n[t]=e[t];return n}function on(e,n,t,r){var l=!t;t||(t={});for(var u=-1,f=n.length;++u<f;){var p=n[u],g=r?r(t[p],e[p],p,t,e):a;g===a&&(g=e[p]),l?pn(t,p,g):yt(t,p,g)}return t}function od(e,n){return on(e,Go(e),n)}function id(e,n){return on(e,aa(e),n)}function Cr(e,n){return function(t,r){var l=X(t)?cf:vp,u=n?n():{};return l(t,e,U(r,2),u)}}function et(e){return q(function(n,t){var r=-1,l=t.length,u=l>1?t[l-1]:a,f=l>2?t[2]:a;for(u=e.length>3&&typeof u=="function"?(l--,u):a,f&&ve(t[0],t[1],f)&&(u=l<3?a:u,l=1),n=se(n);++r<l;){var p=t[r];p&&e(n,p,r,u)}return n})}function ql(e,n){return function(t,r){if(t==null)return t;if(!Be(t))return e(t,r);for(var l=t.length,u=n?l:-1,f=se(t);(n?u--:++u<l)&&r(f[u],u,f)!==!1;);return t}}function Zl(e){return function(n,t,r){for(var l=-1,u=se(n),f=r(n),p=f.length;p--;){var g=f[e?p:++l];if(t(u[g],g,u)===!1)break}return n}}function ld(e,n,t){var r=n&B,l=At(e);function u(){var f=this&&this!==we&&this instanceof u?l:e;return f.apply(r?t:this,arguments)}return u}function Jl(e){return function(n){n=le(n);var t=Yn(n)?Qe(n):a,r=t?t[0]:n.charAt(0),l=t?An(t,1).join(""):n.slice(1);return r[e]()+l}}function nt(e){return function(n){return uo(qa(Ka(n).replace(qc,"")),e,"")}}function At(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=jn(e.prototype),r=e.apply(t,n);return de(r)?r:t}}function ad(e,n,t){var r=At(e);function l(){for(var u=arguments.length,f=C(u),p=u,g=tt(l);p--;)f[p]=arguments[p];var w=u<3&&f[0]!==g&&f[u-1]!==g?[]:yn(f,g);if(u-=w.length,u<t)return ta(e,n,mr,l.placeholder,a,f,w,a,a,t-u);var y=this&&this!==we&&this instanceof l?r:e;return Ne(y,this,f)}return l}function Ql(e){return function(n,t,r){var l=se(n);if(!Be(n)){var u=U(t,3);n=Le(n),t=function(p){return u(l[p],p,l)}}var f=e(n,t,r);return f>-1?l[u?n[f]:f]:a}}function jl(e){return hn(function(n){var t=n.length,r=t,l=Ve.prototype.thru;for(e&&n.reverse();r--;){var u=n[r];if(typeof u!="function")throw new He(E);if(l&&!f&&wr(u)=="wrapper")var f=new Ve([],!0)}for(r=f?r:t;++r<t;){u=n[r];var p=wr(u),g=p=="wrapper"?Vo(u):a;g&&Ko(g[0])&&g[1]==(ge|Y|oe|Se)&&!g[4].length&&g[9]==1?f=f[wr(g[0])].apply(f,g[3]):f=u.length==1&&Ko(u)?f[p]():f.thru(u)}return function(){var w=arguments,y=w[0];if(f&&w.length==1&&X(y))return f.plant(y).value();for(var I=0,P=t?n[I].apply(this,w):y;++I<t;)P=n[I].call(this,P);return P}})}function mr(e,n,t,r,l,u,f,p,g,w){var y=n&ge,I=n&B,P=n&k,F=n&(Y|j),x=n&Sn,K=P?a:At(e);function z(){for(var Z=arguments.length,ee=C(Z),Ue=Z;Ue--;)ee[Ue]=arguments[Ue];if(F)var Ae=tt(z),xe=Ef(ee,Ae);if(r&&(ee=Yl(ee,r,l,F)),u&&(ee=Kl(ee,u,f,F)),Z-=xe,F&&Z<w){var Ce=yn(ee,Ae);return ta(e,n,mr,z.placeholder,t,ee,Ce,p,g,w-Z)}var nn=I?t:this,mn=P?nn[e]:e;return Z=ee.length,p?ee=vd(ee,p):x&&Z>1&&ee.reverse(),y&&g<Z&&(ee.length=g),this&&this!==we&&this instanceof z&&(mn=K||At(mn)),mn.apply(nn,ee)}return z}function ea(e,n){return function(t,r){return Np(t,e,n(r),{})}}function Er(e,n){return function(t,r){var l;if(t===a&&r===a)return n;if(t!==a&&(l=t),r!==a){if(l===a)return r;typeof t=="string"||typeof r=="string"?(t=ke(t),r=ke(r)):(t=Ul(t),r=Ul(r)),l=e(t,r)}return l}}function xo(e){return hn(function(n){return n=pe(n,Fe(U())),q(function(t){var r=this;return e(n,function(l){return Ne(l,r,t)})})})}function Sr(e,n){n=n===a?" ":ke(n);var t=n.length;if(t<2)return t?Mo(n,e):n;var r=Mo(n,lr(e/Kn(n)));return Yn(n)?An(Qe(r),0,e).join(""):r.slice(0,e)}function sd(e,n,t,r){var l=n&B,u=At(e);function f(){for(var p=-1,g=arguments.length,w=-1,y=r.length,I=C(y+g),P=this&&this!==we&&this instanceof f?u:e;++w<y;)I[w]=r[w];for(;g--;)I[w++]=arguments[++p];return Ne(P,l?t:this,I)}return f}function na(e){return function(n,t,r){return r&&typeof r!="number"&&ve(n,t,r)&&(t=r=a),n=Cn(n),t===a?(t=n,n=0):t=Cn(t),r=r===a?n<t?1:-1:Cn(r),Yp(n,t,r,e)}}function Lr(e){return function(n,t){return typeof n=="string"&&typeof t=="string"||(n=Ke(n),t=Ke(t)),e(n,t)}}function ta(e,n,t,r,l,u,f,p,g,w){var y=n&Y,I=y?f:a,P=y?a:f,F=y?u:a,x=y?a:u;n|=y?oe:ue,n&=~(y?ue:oe),n&re||(n&=-4);var K=[e,n,l,F,I,x,P,p,g,w],z=t.apply(a,K);return Ko(e)&&ha(z,K),z.placeholder=r,ga(z,e,n)}function zo(e){var n=me[e];return function(t,r){if(t=Ke(t),r=r==null?0:Oe(G(r),292),r&&gl(t)){var l=(le(t)+"e").split("e"),u=n(l[0]+"e"+(+l[1]+r));return l=(le(u)+"e").split("e"),+(l[0]+"e"+(+l[1]-r))}return n(t)}}var ud=Jn&&1/Zt(new Jn([,-0]))[1]==tn?function(e){return new Jn(e)}:ui;function ra(e){return function(n){var t=Te(n);return t==Ze?Co(n):t==Je?If(n):mf(n,e(n))}}function dn(e,n,t,r,l,u,f,p){var g=n&k;if(!g&&typeof e!="function")throw new He(E);var w=r?r.length:0;if(w||(n&=-97,r=l=a),f=f===a?f:Ee(G(f),0),p=p===a?p:G(p),w-=l?l.length:0,n&ue){var y=r,I=l;r=l=a}var P=g?a:Vo(e),F=[e,n,t,r,l,y,I,u,f,p];if(P&&Od(F,P),e=F[0],n=F[1],t=F[2],r=F[3],l=F[4],p=F[9]=F[9]===a?g?0:e.length:Ee(F[9]-w,0),!p&&n&(Y|j)&&(n&=-25),!n||n==B)var x=ld(e,n,t);else n==Y||n==j?x=ad(e,n,p):(n==oe||n==(B|oe))&&!l.length?x=sd(e,n,t,r):x=mr.apply(a,F);var K=P?kl:ha;return ga(K(x,F),e,n)}function oa(e,n,t,r){return e===a||en(e,Zn[t])&&!ae.call(r,t)?n:e}function ia(e,n,t,r,l,u){return de(e)&&de(n)&&(u.set(n,e),hr(e,n,a,ia,u),u.delete(n)),e}function cd(e){return Bt(e)?a:e}function la(e,n,t,r,l,u){var f=t&T,p=e.length,g=n.length;if(p!=g&&!(f&&g>p))return!1;var w=u.get(e),y=u.get(n);if(w&&y)return w==n&&y==e;var I=-1,P=!0,F=t&D?new Nn:a;for(u.set(e,n),u.set(n,e);++I<p;){var x=e[I],K=n[I];if(r)var z=f?r(K,x,I,n,e,u):r(x,K,I,e,n,u);if(z!==a){if(z)continue;P=!1;break}if(F){if(!co(n,function(Z,ee){if(!Ct(F,ee)&&(x===Z||l(x,Z,t,r,u)))return F.push(ee)})){P=!1;break}}else if(!(x===K||l(x,K,t,r,u))){P=!1;break}}return u.delete(e),u.delete(n),P}function fd(e,n,t,r,l,u,f){switch(t){case Vn:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case _t:return!(e.byteLength!=n.byteLength||!u(new tr(e),new tr(n)));case ct:case ft:case pt:return en(+e,+n);case Wt:return e.name==n.name&&e.message==n.message;case dt:case ht:return e==n+"";case Ze:var p=Co;case Je:var g=r&T;if(p||(p=Zt),e.size!=n.size&&!g)return!1;var w=f.get(e);if(w)return w==n;r|=D,f.set(e,n);var y=la(p(e),p(n),r,l,u,f);return f.delete(e),y;case Vt:if(wt)return wt.call(e)==wt.call(n)}return!1}function pd(e,n,t,r,l,u){var f=t&T,p=Wo(e),g=p.length,w=Wo(n),y=w.length;if(g!=y&&!f)return!1;for(var I=g;I--;){var P=p[I];if(!(f?P in n:ae.call(n,P)))return!1}var F=u.get(e),x=u.get(n);if(F&&x)return F==n&&x==e;var K=!0;u.set(e,n),u.set(n,e);for(var z=f;++I<g;){P=p[I];var Z=e[P],ee=n[P];if(r)var Ue=f?r(ee,Z,P,n,e,u):r(Z,ee,P,e,n,u);if(!(Ue===a?Z===ee||l(Z,ee,t,r,u):Ue)){K=!1;break}z||(z=P=="constructor")}if(K&&!z){var Ae=e.constructor,xe=n.constructor;Ae!=xe&&"constructor"in e&&"constructor"in n&&!(typeof Ae=="function"&&Ae instanceof Ae&&typeof xe=="function"&&xe instanceof xe)&&(K=!1)}return u.delete(e),u.delete(n),K}function hn(e){return Zo(pa(e,a,La),e+"")}function Wo(e){return Il(e,Le,Go)}function Ho(e){return Il(e,Pe,aa)}var Vo=sr?function(e){return sr.get(e)}:ui;function wr(e){for(var n=e.name+"",t=Qn[n],r=ae.call(Qn,n)?t.length:0;r--;){var l=t[r],u=l.func;if(u==null||u==e)return l.name}return n}function tt(e){var n=ae.call(s,"placeholder")?s:e;return n.placeholder}function U(){var e=s.iteratee||ai;return e=e===ai?Rl:e,arguments.length?e(arguments[0],arguments[1]):e}function yr(e,n){var t=e.__data__;return Sd(n)?t[typeof n=="string"?"string":"hash"]:t.map}function Xo(e){for(var n=Le(e),t=n.length;t--;){var r=n[t],l=e[r];n[t]=[r,l,ca(l)]}return n}function bn(e,n){var t=yf(e,n);return Al(t)?t:a}function dd(e){var n=ae.call(e,Mn),t=e[Mn];try{e[Mn]=a;var r=!0}catch(u){}var l=er.call(e);return r&&(n?e[Mn]=t:delete e[Mn]),l}var Go=Eo?function(e){return e==null?[]:(e=se(e),Ln(Eo(e),function(n){return dl.call(e,n)}))}:ci,aa=Eo?function(e){for(var n=[];e;)wn(n,Go(e)),e=rr(e);return n}:ci,Te=Ie;(So&&Te(new So(new ArrayBuffer(1)))!=Vn||Et&&Te(new Et)!=Ze||Lo&&Te(Lo.resolve())!=yi||Jn&&Te(new Jn)!=Je||St&&Te(new St)!=gt)&&(Te=function(e){var n=Ie(e),t=n==un?e.constructor:a,r=t?Un(t):"";if(r)switch(r){case qf:return Vn;case Zf:return Ze;case Jf:return yi;case Qf:return Je;case jf:return gt}return n});function hd(e,n,t){for(var r=-1,l=t.length;++r<l;){var u=t[r],f=u.size;switch(u.type){case"drop":e+=f;break;case"dropRight":n-=f;break;case"take":n=Oe(n,e+f);break;case"takeRight":e=Ee(e,n-f);break}}return{start:e,end:n}}function gd(e){var n=e.match(Sc);return n?n[1].split(Lc):[]}function sa(e,n,t){n=vn(n,e);for(var r=-1,l=n.length,u=!1;++r<l;){var f=ln(n[r]);if(!(u=e!=null&&t(e,f)))break;e=e[f]}return u||++r!=l?u:(l=e==null?0:e.length,!!l&&Dr(l)&&gn(f,l)&&(X(e)||xn(e)))}function _d(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&ae.call(e,"index")&&(t.index=e.index,t.input=e.input),t}function ua(e){return typeof e.constructor=="function"&&!Rt(e)?jn(rr(e)):{}}function Cd(e,n,t){var r=e.constructor;switch(n){case _t:return Uo(e);case ct:case ft:return new r(+e);case Vn:return ed(e,t);case Vr:case Xr:case Gr:case Yr:case Kr:case qr:case Zr:case Jr:case Qr:return Xl(e,t);case Ze:return new r;case pt:case ht:return new r(e);case dt:return nd(e);case Je:return new r;case Vt:return td(e)}}function md(e,n){var t=n.length;if(!t)return e;var r=t-1;return n[r]=(t>1?"& ":"")+n[r],n=n.join(t>2?", ":" "),e.replace(Ec,`{
/* [wrapped with `+n+`] */
`)}function Ed(e){return X(e)||xn(e)||!!(hl&&e&&e[hl])}function gn(e,n){var t=typeof e;return n=n==null?qe:n,!!n&&(t=="number"||t!="symbol"&&Dc.test(e))&&e>-1&&e%1==0&&e<n}function ve(e,n,t){if(!de(t))return!1;var r=typeof n;return(r=="number"?Be(t)&&gn(n,t.length):r=="string"&&n in t)?en(t[n],e):!1}function Yo(e,n){if(X(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||be(e)?!0:gc.test(e)||!hc.test(e)||n!=null&&e in se(n)}function Sd(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function Ko(e){var n=wr(e),t=s[n];if(typeof t!="function"||!(n in J.prototype))return!1;if(e===t)return!0;var r=Vo(t);return!!r&&e===r[0]}function Ld(e){return!!cl&&cl in e}var wd=Qt?_n:fi;function Rt(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||Zn;return e===t}function ca(e){return e===e&&!de(e)}function fa(e,n){return function(t){return t==null?!1:t[e]===n&&(n!==a||e in se(t))}}function yd(e){var n=Ar(e,function(r){return t.size===W&&t.clear(),r}),t=n.cache;return n}function Od(e,n){var t=e[1],r=n[1],l=t|r,u=l<(B|k|ge),f=r==ge&&t==Y||r==ge&&t==Se&&e[7].length<=n[8]||r==(ge|Se)&&n[7].length<=n[8]&&t==Y;if(!(u||f))return e;r&B&&(e[2]=n[2],l|=t&B?0:re);var p=n[3];if(p){var g=e[3];e[3]=g?Yl(g,p,n[4]):p,e[4]=g?yn(e[3],$):n[4]}return p=n[5],p&&(g=e[5],e[5]=g?Kl(g,p,n[6]):p,e[6]=g?yn(e[5],$):n[6]),p=n[7],p&&(e[7]=p),r&ge&&(e[8]=e[8]==null?n[8]:Oe(e[8],n[8])),e[9]==null&&(e[9]=n[9]),e[0]=n[0],e[1]=l,e}function Td(e){var n=[];if(e!=null)for(var t in se(e))n.push(t);return n}function Id(e){return er.call(e)}function pa(e,n,t){return n=Ee(n===a?e.length-1:n,0),function(){for(var r=arguments,l=-1,u=Ee(r.length-n,0),f=C(u);++l<u;)f[l]=r[n+l];l=-1;for(var p=C(n+1);++l<n;)p[l]=r[l];return p[n]=t(f),Ne(e,this,p)}}function da(e,n){return n.length<2?e:kn(e,Ge(n,0,-1))}function vd(e,n){for(var t=e.length,r=Oe(n.length,t),l=De(e);r--;){var u=n[r];e[r]=gn(u,t)?l[u]:a}return e}function qo(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}var ha=_a(kl),Dt=Wf||function(e,n){return we.setTimeout(e,n)},Zo=_a(Zp);function ga(e,n,t){var r=n+"";return Zo(e,md(r,Ad(gd(r),t)))}function _a(e){var n=0,t=0;return function(){var r=Gf(),l=kt-(r-t);if(t=r,l>0){if(++n>=Ft)return arguments[0]}else n=0;return e.apply(a,arguments)}}function Or(e,n){var t=-1,r=e.length,l=r-1;for(n=n===a?r:n;++t<n;){var u=Po(t,l),f=e[u];e[u]=e[t],e[t]=f}return e.length=n,e}var Ca=yd(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(_c,function(t,r,l,u){n.push(l?u.replace(Oc,"$1"):r||t)}),n});function ln(e){if(typeof e=="string"||be(e))return e;var n=e+"";return n=="0"&&1/e==-tn?"-0":n}function Un(e){if(e!=null){try{return jt.call(e)}catch(n){}try{return e+""}catch(n){}}return""}function Ad(e,n){return We(ec,function(t){var r="_."+t[0];n&t[1]&&!Kt(e,r)&&e.push(r)}),e.sort()}function ma(e){if(e instanceof J)return e.clone();var n=new Ve(e.__wrapped__,e.__chain__);return n.__actions__=De(e.__actions__),n.__index__=e.__index__,n.__values__=e.__values__,n}function Rd(e,n,t){(t?ve(e,n,t):n===a)?n=1:n=Ee(G(n),0);var r=e==null?0:e.length;if(!r||n<1)return[];for(var l=0,u=0,f=C(lr(r/n));l<r;)f[u++]=Ge(e,l,l+=n);return f}function Dd(e){for(var n=-1,t=e==null?0:e.length,r=0,l=[];++n<t;){var u=e[n];u&&(l[r++]=u)}return l}function Bd(){var e=arguments.length;if(!e)return[];for(var n=C(e-1),t=arguments[0],r=e;r--;)n[r-1]=arguments[r];return wn(X(t)?De(t):[t],ye(n,1))}var Pd=q(function(e,n){return _e(e)?Ot(e,ye(n,1,_e,!0)):[]}),Md=q(function(e,n){var t=Ye(n);return _e(t)&&(t=a),_e(e)?Ot(e,ye(n,1,_e,!0),U(t,2)):[]}),$d=q(function(e,n){var t=Ye(n);return _e(t)&&(t=a),_e(e)?Ot(e,ye(n,1,_e,!0),a,t):[]});function Nd(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===a?1:G(n),Ge(e,n<0?0:n,r)):[]}function Fd(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===a?1:G(n),n=r-n,Ge(e,0,n<0?0:n)):[]}function kd(e,n){return e&&e.length?_r(e,U(n,3),!0,!0):[]}function bd(e,n){return e&&e.length?_r(e,U(n,3),!0):[]}function Ud(e,n,t,r){var l=e==null?0:e.length;return l?(t&&typeof t!="number"&&ve(e,n,t)&&(t=0,r=l),Bp(e,n,t,r)):[]}function Ea(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var l=t==null?0:G(t);return l<0&&(l=Ee(r+l,0)),qt(e,U(n,3),l)}function Sa(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var l=r-1;return t!==a&&(l=G(t),l=t<0?Ee(r+l,0):Oe(l,r-1)),qt(e,U(n,3),l,!0)}function La(e){var n=e==null?0:e.length;return n?ye(e,1):[]}function xd(e){var n=e==null?0:e.length;return n?ye(e,tn):[]}function zd(e,n){var t=e==null?0:e.length;return t?(n=n===a?1:G(n),ye(e,n)):[]}function Wd(e){for(var n=-1,t=e==null?0:e.length,r={};++n<t;){var l=e[n];r[l[0]]=l[1]}return r}function wa(e){return e&&e.length?e[0]:a}function Hd(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var l=t==null?0:G(t);return l<0&&(l=Ee(r+l,0)),Gn(e,n,l)}function Vd(e){var n=e==null?0:e.length;return n?Ge(e,0,-1):[]}var Xd=q(function(e){var n=pe(e,ko);return n.length&&n[0]===e[0]?vo(n):[]}),Gd=q(function(e){var n=Ye(e),t=pe(e,ko);return n===Ye(t)?n=a:t.pop(),t.length&&t[0]===e[0]?vo(t,U(n,2)):[]}),Yd=q(function(e){var n=Ye(e),t=pe(e,ko);return n=typeof n=="function"?n:a,n&&t.pop(),t.length&&t[0]===e[0]?vo(t,a,n):[]});function Kd(e,n){return e==null?"":Vf.call(e,n)}function Ye(e){var n=e==null?0:e.length;return n?e[n-1]:a}function qd(e,n,t){var r=e==null?0:e.length;if(!r)return-1;var l=r;return t!==a&&(l=G(t),l=l<0?Ee(r+l,0):Oe(l,r-1)),n===n?Af(e,n,l):qt(e,tl,l,!0)}function Zd(e,n){return e&&e.length?Ml(e,G(n)):a}var Jd=q(ya);function ya(e,n){return e&&e.length&&n&&n.length?Bo(e,n):e}function Qd(e,n,t){return e&&e.length&&n&&n.length?Bo(e,n,U(t,2)):e}function jd(e,n,t){return e&&e.length&&n&&n.length?Bo(e,n,a,t):e}var eh=hn(function(e,n){var t=e==null?0:e.length,r=yo(e,n);return Fl(e,pe(n,function(l){return gn(l,t)?+l:l}).sort(Gl)),r});function nh(e,n){var t=[];if(!(e&&e.length))return t;var r=-1,l=[],u=e.length;for(n=U(n,3);++r<u;){var f=e[r];n(f,r,e)&&(t.push(f),l.push(r))}return Fl(e,l),t}function Jo(e){return e==null?e:Kf.call(e)}function th(e,n,t){var r=e==null?0:e.length;return r?(t&&typeof t!="number"&&ve(e,n,t)?(n=0,t=r):(n=n==null?0:G(n),t=t===a?r:G(t)),Ge(e,n,t)):[]}function rh(e,n){return gr(e,n)}function oh(e,n,t){return $o(e,n,U(t,2))}function ih(e,n){var t=e==null?0:e.length;if(t){var r=gr(e,n);if(r<t&&en(e[r],n))return r}return-1}function lh(e,n){return gr(e,n,!0)}function ah(e,n,t){return $o(e,n,U(t,2),!0)}function sh(e,n){var t=e==null?0:e.length;if(t){var r=gr(e,n,!0)-1;if(en(e[r],n))return r}return-1}function uh(e){return e&&e.length?bl(e):[]}function ch(e,n){return e&&e.length?bl(e,U(n,2)):[]}function fh(e){var n=e==null?0:e.length;return n?Ge(e,1,n):[]}function ph(e,n,t){return e&&e.length?(n=t||n===a?1:G(n),Ge(e,0,n<0?0:n)):[]}function dh(e,n,t){var r=e==null?0:e.length;return r?(n=t||n===a?1:G(n),n=r-n,Ge(e,n<0?0:n,r)):[]}function hh(e,n){return e&&e.length?_r(e,U(n,3),!1,!0):[]}function gh(e,n){return e&&e.length?_r(e,U(n,3)):[]}var _h=q(function(e){return In(ye(e,1,_e,!0))}),Ch=q(function(e){var n=Ye(e);return _e(n)&&(n=a),In(ye(e,1,_e,!0),U(n,2))}),mh=q(function(e){var n=Ye(e);return n=typeof n=="function"?n:a,In(ye(e,1,_e,!0),a,n)});function Eh(e){return e&&e.length?In(e):[]}function Sh(e,n){return e&&e.length?In(e,U(n,2)):[]}function Lh(e,n){return n=typeof n=="function"?n:a,e&&e.length?In(e,a,n):[]}function Qo(e){if(!(e&&e.length))return[];var n=0;return e=Ln(e,function(t){if(_e(t))return n=Ee(t.length,n),!0}),go(n,function(t){return pe(e,fo(t))})}function Oa(e,n){if(!(e&&e.length))return[];var t=Qo(e);return n==null?t:pe(t,function(r){return Ne(n,a,r)})}var wh=q(function(e,n){return _e(e)?Ot(e,n):[]}),yh=q(function(e){return Fo(Ln(e,_e))}),Oh=q(function(e){var n=Ye(e);return _e(n)&&(n=a),Fo(Ln(e,_e),U(n,2))}),Th=q(function(e){var n=Ye(e);return n=typeof n=="function"?n:a,Fo(Ln(e,_e),a,n)}),Ih=q(Qo);function vh(e,n){return Wl(e||[],n||[],yt)}function Ah(e,n){return Wl(e||[],n||[],vt)}var Rh=q(function(e){var n=e.length,t=n>1?e[n-1]:a;return t=typeof t=="function"?(e.pop(),t):a,Oa(e,t)});function Ta(e){var n=s(e);return n.__chain__=!0,n}function Dh(e,n){return n(e),e}function Tr(e,n){return n(e)}var Bh=hn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,l=function(u){return yo(u,e)};return n>1||this.__actions__.length||!(r instanceof J)||!gn(t)?this.thru(l):(r=r.slice(t,+t+(n?1:0)),r.__actions__.push({func:Tr,args:[l],thisArg:a}),new Ve(r,this.__chain__).thru(function(u){return n&&!u.length&&u.push(a),u}))});function Ph(){return Ta(this)}function Mh(){return new Ve(this.value(),this.__chain__)}function $h(){this.__values__===a&&(this.__values__=Ua(this.value()));var e=this.__index__>=this.__values__.length,n=e?a:this.__values__[this.__index__++];return{done:e,value:n}}function Nh(){return this}function Fh(e){for(var n,t=this;t instanceof cr;){var r=ma(t);r.__index__=0,r.__values__=a,n?l.__wrapped__=r:n=r;var l=r;t=t.__wrapped__}return l.__wrapped__=e,n}function kh(){var e=this.__wrapped__;if(e instanceof J){var n=e;return this.__actions__.length&&(n=new J(this)),n=n.reverse(),n.__actions__.push({func:Tr,args:[Jo],thisArg:a}),new Ve(n,this.__chain__)}return this.thru(Jo)}function bh(){return zl(this.__wrapped__,this.__actions__)}var Uh=Cr(function(e,n,t){ae.call(e,t)?++e[t]:pn(e,t,1)});function xh(e,n,t){var r=X(e)?el:Dp;return t&&ve(e,n,t)&&(n=a),r(e,U(n,3))}function zh(e,n){var t=X(e)?Ln:Ol;return t(e,U(n,3))}var Wh=Ql(Ea),Hh=Ql(Sa);function Vh(e,n){return ye(Ir(e,n),1)}function Xh(e,n){return ye(Ir(e,n),tn)}function Gh(e,n,t){return t=t===a?1:G(t),ye(Ir(e,n),t)}function Ia(e,n){var t=X(e)?We:Tn;return t(e,U(n,3))}function va(e,n){var t=X(e)?ff:yl;return t(e,U(n,3))}var Yh=Cr(function(e,n,t){ae.call(e,t)?e[t].push(n):pn(e,t,[n])});function Kh(e,n,t,r){e=Be(e)?e:ot(e),t=t&&!r?G(t):0;var l=e.length;return t<0&&(t=Ee(l+t,0)),Br(e)?t<=l&&e.indexOf(n,t)>-1:!!l&&Gn(e,n,t)>-1}var qh=q(function(e,n,t){var r=-1,l=typeof n=="function",u=Be(e)?C(e.length):[];return Tn(e,function(f){u[++r]=l?Ne(n,f,t):Tt(f,n,t)}),u}),Zh=Cr(function(e,n,t){pn(e,t,n)});function Ir(e,n){var t=X(e)?pe:Dl;return t(e,U(n,3))}function Jh(e,n,t,r){return e==null?[]:(X(n)||(n=n==null?[]:[n]),t=r?a:t,X(t)||(t=t==null?[]:[t]),$l(e,n,t))}var Qh=Cr(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});function jh(e,n,t){var r=X(e)?uo:ol,l=arguments.length<3;return r(e,U(n,4),t,l,Tn)}function eg(e,n,t){var r=X(e)?pf:ol,l=arguments.length<3;return r(e,U(n,4),t,l,yl)}function ng(e,n){var t=X(e)?Ln:Ol;return t(e,Rr(U(n,3)))}function tg(e){var n=X(e)?El:Kp;return n(e)}function rg(e,n,t){(t?ve(e,n,t):n===a)?n=1:n=G(n);var r=X(e)?Tp:qp;return r(e,n)}function og(e){var n=X(e)?Ip:Jp;return n(e)}function ig(e){if(e==null)return 0;if(Be(e))return Br(e)?Kn(e):e.length;var n=Te(e);return n==Ze||n==Je?e.size:Ro(e).length}function lg(e,n,t){var r=X(e)?co:Qp;return t&&ve(e,n,t)&&(n=a),r(e,U(n,3))}var ag=q(function(e,n){if(e==null)return[];var t=n.length;return t>1&&ve(e,n[0],n[1])?n=[]:t>2&&ve(n[0],n[1],n[2])&&(n=[n[0]]),$l(e,ye(n,1),[])}),vr=zf||function(){return we.Date.now()};function sg(e,n){if(typeof n!="function")throw new He(E);return e=G(e),function(){if(--e<1)return n.apply(this,arguments)}}function Aa(e,n,t){return n=t?a:n,n=e&&n==null?e.length:n,dn(e,ge,a,a,a,a,n)}function Ra(e,n){var t;if(typeof n!="function")throw new He(E);return e=G(e),function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=a),t}}var jo=q(function(e,n,t){var r=B;if(t.length){var l=yn(t,tt(jo));r|=oe}return dn(e,r,n,t,l)}),Da=q(function(e,n,t){var r=B|k;if(t.length){var l=yn(t,tt(Da));r|=oe}return dn(n,r,e,t,l)});function Ba(e,n,t){n=t?a:n;var r=dn(e,Y,a,a,a,a,a,n);return r.placeholder=Ba.placeholder,r}function Pa(e,n,t){n=t?a:n;var r=dn(e,j,a,a,a,a,a,n);return r.placeholder=Pa.placeholder,r}function Ma(e,n,t){var r,l,u,f,p,g,w=0,y=!1,I=!1,P=!0;if(typeof e!="function")throw new He(E);n=Ke(n)||0,de(t)&&(y=!!t.leading,I="maxWait"in t,u=I?Ee(Ke(t.maxWait)||0,n):u,P="trailing"in t?!!t.trailing:P);function F(Ce){var nn=r,mn=l;return r=l=a,w=Ce,f=e.apply(mn,nn),f}function x(Ce){return w=Ce,p=Dt(Z,n),y?F(Ce):f}function K(Ce){var nn=Ce-g,mn=Ce-w,Qa=n-nn;return I?Oe(Qa,u-mn):Qa}function z(Ce){var nn=Ce-g,mn=Ce-w;return g===a||nn>=n||nn<0||I&&mn>=u}function Z(){var Ce=vr();if(z(Ce))return ee(Ce);p=Dt(Z,K(Ce))}function ee(Ce){return p=a,P&&r?F(Ce):(r=l=a,f)}function Ue(){p!==a&&Hl(p),w=0,r=g=l=p=a}function Ae(){return p===a?f:ee(vr())}function xe(){var Ce=vr(),nn=z(Ce);if(r=arguments,l=this,g=Ce,nn){if(p===a)return x(g);if(I)return Hl(p),p=Dt(Z,n),F(g)}return p===a&&(p=Dt(Z,n)),f}return xe.cancel=Ue,xe.flush=Ae,xe}var ug=q(function(e,n){return wl(e,1,n)}),cg=q(function(e,n,t){return wl(e,Ke(n)||0,t)});function fg(e){return dn(e,Sn)}function Ar(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new He(E);var t=function(){var r=arguments,l=n?n.apply(this,r):r[0],u=t.cache;if(u.has(l))return u.get(l);var f=e.apply(this,r);return t.cache=u.set(l,f)||u,f};return t.cache=new(Ar.Cache||fn),t}Ar.Cache=fn;function Rr(e){if(typeof e!="function")throw new He(E);return function(){var n=arguments;switch(n.length){case 0:return!e.call(this);case 1:return!e.call(this,n[0]);case 2:return!e.call(this,n[0],n[1]);case 3:return!e.call(this,n[0],n[1],n[2])}return!e.apply(this,n)}}function pg(e){return Ra(2,e)}var dg=jp(function(e,n){n=n.length==1&&X(n[0])?pe(n[0],Fe(U())):pe(ye(n,1),Fe(U()));var t=n.length;return q(function(r){for(var l=-1,u=Oe(r.length,t);++l<u;)r[l]=n[l].call(this,r[l]);return Ne(e,this,r)})}),ei=q(function(e,n){var t=yn(n,tt(ei));return dn(e,oe,a,n,t)}),$a=q(function(e,n){var t=yn(n,tt($a));return dn(e,ue,a,n,t)}),hg=hn(function(e,n){return dn(e,Se,a,a,a,n)});function gg(e,n){if(typeof e!="function")throw new He(E);return n=n===a?n:G(n),q(e,n)}function _g(e,n){if(typeof e!="function")throw new He(E);return n=n==null?0:Ee(G(n),0),q(function(t){var r=t[n],l=An(t,0,n);return r&&wn(l,r),Ne(e,this,l)})}function Cg(e,n,t){var r=!0,l=!0;if(typeof e!="function")throw new He(E);return de(t)&&(r="leading"in t?!!t.leading:r,l="trailing"in t?!!t.trailing:l),Ma(e,n,{leading:r,maxWait:n,trailing:l})}function mg(e){return Aa(e,1)}function Eg(e,n){return ei(bo(n),e)}function Sg(){if(!arguments.length)return[];var e=arguments[0];return X(e)?e:[e]}function Lg(e){return Xe(e,v)}function wg(e,n){return n=typeof n=="function"?n:a,Xe(e,v,n)}function yg(e){return Xe(e,O|v)}function Og(e,n){return n=typeof n=="function"?n:a,Xe(e,O|v,n)}function Tg(e,n){return n==null||Ll(e,n,Le(n))}function en(e,n){return e===n||e!==e&&n!==n}var Ig=Lr(Io),vg=Lr(function(e,n){return e>=n}),xn=vl(function(){return arguments}())?vl:function(e){return he(e)&&ae.call(e,"callee")&&!dl.call(e,"callee")},X=C.isArray,Ag=Ki?Fe(Ki):Fp;function Be(e){return e!=null&&Dr(e.length)&&!_n(e)}function _e(e){return he(e)&&Be(e)}function Rg(e){return e===!0||e===!1||he(e)&&Ie(e)==ct}var Rn=Hf||fi,Dg=qi?Fe(qi):kp;function Bg(e){return he(e)&&e.nodeType===1&&!Bt(e)}function Pg(e){if(e==null)return!0;if(Be(e)&&(X(e)||typeof e=="string"||typeof e.splice=="function"||Rn(e)||rt(e)||xn(e)))return!e.length;var n=Te(e);if(n==Ze||n==Je)return!e.size;if(Rt(e))return!Ro(e).length;for(var t in e)if(ae.call(e,t))return!1;return!0}function Mg(e,n){return It(e,n)}function $g(e,n,t){t=typeof t=="function"?t:a;var r=t?t(e,n):a;return r===a?It(e,n,a,t):!!r}function ni(e){if(!he(e))return!1;var n=Ie(e);return n==Wt||n==tc||typeof e.message=="string"&&typeof e.name=="string"&&!Bt(e)}function Ng(e){return typeof e=="number"&&gl(e)}function _n(e){if(!de(e))return!1;var n=Ie(e);return n==Ht||n==wi||n==nc||n==oc}function Na(e){return typeof e=="number"&&e==G(e)}function Dr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qe}function de(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function he(e){return e!=null&&typeof e=="object"}var Fa=Zi?Fe(Zi):Up;function Fg(e,n){return e===n||Ao(e,n,Xo(n))}function kg(e,n,t){return t=typeof t=="function"?t:a,Ao(e,n,Xo(n),t)}function bg(e){return ka(e)&&e!=+e}function Ug(e){if(wd(e))throw new H(m);return Al(e)}function xg(e){return e===null}function zg(e){return e==null}function ka(e){return typeof e=="number"||he(e)&&Ie(e)==pt}function Bt(e){if(!he(e)||Ie(e)!=un)return!1;var n=rr(e);if(n===null)return!0;var t=ae.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&jt.call(t)==kf}var ti=Ji?Fe(Ji):xp;function Wg(e){return Na(e)&&e>=-qe&&e<=qe}var ba=Qi?Fe(Qi):zp;function Br(e){return typeof e=="string"||!X(e)&&he(e)&&Ie(e)==ht}function be(e){return typeof e=="symbol"||he(e)&&Ie(e)==Vt}var rt=ji?Fe(ji):Wp;function Hg(e){return e===a}function Vg(e){return he(e)&&Te(e)==gt}function Xg(e){return he(e)&&Ie(e)==lc}var Gg=Lr(Do),Yg=Lr(function(e,n){return e<=n});function Ua(e){if(!e)return[];if(Be(e))return Br(e)?Qe(e):De(e);if(mt&&e[mt])return Tf(e[mt]());var n=Te(e),t=n==Ze?Co:n==Je?Zt:ot;return t(e)}function Cn(e){if(!e)return e===0?e:0;if(e=Ke(e),e===tn||e===-tn){var n=e<0?-1:1;return n*xt}return e===e?e:0}function G(e){var n=Cn(e),t=n%1;return n===n?t?n-t:n:0}function xa(e){return e?Fn(G(e),0,$e):0}function Ke(e){if(typeof e=="number")return e;if(be(e))return Bn;if(de(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=de(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=il(e);var t=vc.test(e);return t||Rc.test(e)?sf(e.slice(2),t?2:8):Ic.test(e)?Bn:+e}function za(e){return on(e,Pe(e))}function Kg(e){return e?Fn(G(e),-qe,qe):e===0?e:0}function le(e){return e==null?"":ke(e)}var qg=et(function(e,n){if(Rt(n)||Be(n)){on(n,Le(n),e);return}for(var t in n)ae.call(n,t)&&yt(e,t,n[t])}),Wa=et(function(e,n){on(n,Pe(n),e)}),Pr=et(function(e,n,t,r){on(n,Pe(n),e,r)}),Zg=et(function(e,n,t,r){on(n,Le(n),e,r)}),Jg=hn(yo);function Qg(e,n){var t=jn(e);return n==null?t:Sl(t,n)}var jg=q(function(e,n){e=se(e);var t=-1,r=n.length,l=r>2?n[2]:a;for(l&&ve(n[0],n[1],l)&&(r=1);++t<r;)for(var u=n[t],f=Pe(u),p=-1,g=f.length;++p<g;){var w=f[p],y=e[w];(y===a||en(y,Zn[w])&&!ae.call(e,w))&&(e[w]=u[w])}return e}),e_=q(function(e){return e.push(a,ia),Ne(Ha,a,e)});function n_(e,n){return nl(e,U(n,3),rn)}function t_(e,n){return nl(e,U(n,3),To)}function r_(e,n){return e==null?e:Oo(e,U(n,3),Pe)}function o_(e,n){return e==null?e:Tl(e,U(n,3),Pe)}function i_(e,n){return e&&rn(e,U(n,3))}function l_(e,n){return e&&To(e,U(n,3))}function a_(e){return e==null?[]:dr(e,Le(e))}function s_(e){return e==null?[]:dr(e,Pe(e))}function ri(e,n,t){var r=e==null?a:kn(e,n);return r===a?t:r}function u_(e,n){return e!=null&&sa(e,n,Pp)}function oi(e,n){return e!=null&&sa(e,n,Mp)}var c_=ea(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=er.call(n)),e[n]=t},li(Me)),f_=ea(function(e,n,t){n!=null&&typeof n.toString!="function"&&(n=er.call(n)),ae.call(e,n)?e[n].push(t):e[n]=[t]},U),p_=q(Tt);function Le(e){return Be(e)?ml(e):Ro(e)}function Pe(e){return Be(e)?ml(e,!0):Hp(e)}function d_(e,n){var t={};return n=U(n,3),rn(e,function(r,l,u){pn(t,n(r,l,u),r)}),t}function h_(e,n){var t={};return n=U(n,3),rn(e,function(r,l,u){pn(t,l,n(r,l,u))}),t}var g_=et(function(e,n,t){hr(e,n,t)}),Ha=et(function(e,n,t,r){hr(e,n,t,r)}),__=hn(function(e,n){var t={};if(e==null)return t;var r=!1;n=pe(n,function(u){return u=vn(u,e),r||(r=u.length>1),u}),on(e,Ho(e),t),r&&(t=Xe(t,O|R|v,cd));for(var l=n.length;l--;)No(t,n[l]);return t});function C_(e,n){return Va(e,Rr(U(n)))}var m_=hn(function(e,n){return e==null?{}:Xp(e,n)});function Va(e,n){if(e==null)return{};var t=pe(Ho(e),function(r){return[r]});return n=U(n),Nl(e,t,function(r,l){return n(r,l[0])})}function E_(e,n,t){n=vn(n,e);var r=-1,l=n.length;for(l||(l=1,e=a);++r<l;){var u=e==null?a:e[ln(n[r])];u===a&&(r=l,u=t),e=_n(u)?u.call(e):u}return e}function S_(e,n,t){return e==null?e:vt(e,n,t)}function L_(e,n,t,r){return r=typeof r=="function"?r:a,e==null?e:vt(e,n,t,r)}var Xa=ra(Le),Ga=ra(Pe);function w_(e,n,t){var r=X(e),l=r||Rn(e)||rt(e);if(n=U(n,4),t==null){var u=e&&e.constructor;l?t=r?new u:[]:de(e)?t=_n(u)?jn(rr(e)):{}:t={}}return(l?We:rn)(e,function(f,p,g){return n(t,f,p,g)}),t}function y_(e,n){return e==null?!0:No(e,n)}function O_(e,n,t){return e==null?e:xl(e,n,bo(t))}function T_(e,n,t,r){return r=typeof r=="function"?r:a,e==null?e:xl(e,n,bo(t),r)}function ot(e){return e==null?[]:_o(e,Le(e))}function I_(e){return e==null?[]:_o(e,Pe(e))}function v_(e,n,t){return t===a&&(t=n,n=a),t!==a&&(t=Ke(t),t=t===t?t:0),n!==a&&(n=Ke(n),n=n===n?n:0),Fn(Ke(e),n,t)}function A_(e,n,t){return n=Cn(n),t===a?(t=n,n=0):t=Cn(t),e=Ke(e),$p(e,n,t)}function R_(e,n,t){if(t&&typeof t!="boolean"&&ve(e,n,t)&&(n=t=a),t===a&&(typeof n=="boolean"?(t=n,n=a):typeof e=="boolean"&&(t=e,e=a)),e===a&&n===a?(e=0,n=1):(e=Cn(e),n===a?(n=e,e=0):n=Cn(n)),e>n){var r=e;e=n,n=r}if(t||e%1||n%1){var l=_l();return Oe(e+l*(n-e+af("1e-"+((l+"").length-1))),n)}return Po(e,n)}var D_=nt(function(e,n,t){return n=n.toLowerCase(),e+(t?Ya(n):n)});function Ya(e){return ii(le(e).toLowerCase())}function Ka(e){return e=le(e),e&&e.replace(Bc,Sf).replace(Zc,"")}function B_(e,n,t){e=le(e),n=ke(n);var r=e.length;t=t===a?r:Fn(G(t),0,r);var l=t;return t-=n.length,t>=0&&e.slice(t,l)==n}function P_(e){return e=le(e),e&&fc.test(e)?e.replace(Ti,Lf):e}function M_(e){return e=le(e),e&&Cc.test(e)?e.replace(jr,"\\$&"):e}var $_=nt(function(e,n,t){return e+(t?"-":"")+n.toLowerCase()}),N_=nt(function(e,n,t){return e+(t?" ":"")+n.toLowerCase()}),F_=Jl("toLowerCase");function k_(e,n,t){e=le(e),n=G(n);var r=n?Kn(e):0;if(!n||r>=n)return e;var l=(n-r)/2;return Sr(ar(l),t)+e+Sr(lr(l),t)}function b_(e,n,t){e=le(e),n=G(n);var r=n?Kn(e):0;return n&&r<n?e+Sr(n-r,t):e}function U_(e,n,t){e=le(e),n=G(n);var r=n?Kn(e):0;return n&&r<n?Sr(n-r,t)+e:e}function x_(e,n,t){return t||n==null?n=0:n&&(n=+n),Yf(le(e).replace(eo,""),n||0)}function z_(e,n,t){return(t?ve(e,n,t):n===a)?n=1:n=G(n),Mo(le(e),n)}function W_(){var e=arguments,n=le(e[0]);return e.length<3?n:n.replace(e[1],e[2])}var H_=nt(function(e,n,t){return e+(t?"_":"")+n.toLowerCase()});function V_(e,n,t){return t&&typeof t!="number"&&ve(e,n,t)&&(n=t=a),t=t===a?$e:t>>>0,t?(e=le(e),e&&(typeof n=="string"||n!=null&&!ti(n))&&(n=ke(n),!n&&Yn(e))?An(Qe(e),0,t):e.split(n,t)):[]}var X_=nt(function(e,n,t){return e+(t?" ":"")+ii(n)});function G_(e,n,t){return e=le(e),t=t==null?0:Fn(G(t),0,e.length),n=ke(n),e.slice(t,t+n.length)==n}function Y_(e,n,t){var r=s.templateSettings;t&&ve(e,n,t)&&(n=a),e=le(e),n=Pr({},n,r,oa);var l=Pr({},n.imports,r.imports,oa),u=Le(l),f=_o(l,u),p,g,w=0,y=n.interpolate||Xt,I="__p += '",P=mo((n.escape||Xt).source+"|"+y.source+"|"+(y===Ii?Tc:Xt).source+"|"+(n.evaluate||Xt).source+"|$","g"),F="//# sourceURL="+(ae.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nf+"]")+`
`;e.replace(P,function(z,Z,ee,Ue,Ae,xe){return ee||(ee=Ue),I+=e.slice(w,xe).replace(Pc,wf),Z&&(p=!0,I+=`' +
__e(`+Z+`) +
'`),Ae&&(g=!0,I+=`';
`+Ae+`;
__p += '`),ee&&(I+=`' +
((__t = (`+ee+`)) == null ? '' : __t) +
'`),w=xe+z.length,z}),I+=`';
`;var x=ae.call(n,"variable")&&n.variable;if(!x)I=`with (obj) {
`+I+`
}
`;else if(yc.test(x))throw new H(A);I=(g?I.replace(ac,""):I).replace(sc,"$1").replace(uc,"$1;"),I="function("+(x||"obj")+`) {
`+(x?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+I+`return __p
}`;var K=Za(function(){return ie(u,F+"return "+I).apply(a,f)});if(K.source=I,ni(K))throw K;return K}function K_(e){return le(e).toLowerCase()}function q_(e){return le(e).toUpperCase()}function Z_(e,n,t){if(e=le(e),e&&(t||n===a))return il(e);if(!e||!(n=ke(n)))return e;var r=Qe(e),l=Qe(n),u=ll(r,l),f=al(r,l)+1;return An(r,u,f).join("")}function J_(e,n,t){if(e=le(e),e&&(t||n===a))return e.slice(0,ul(e)+1);if(!e||!(n=ke(n)))return e;var r=Qe(e),l=al(r,Qe(n))+1;return An(r,0,l).join("")}function Q_(e,n,t){if(e=le(e),e&&(t||n===a))return e.replace(eo,"");if(!e||!(n=ke(n)))return e;var r=Qe(e),l=ll(r,Qe(n));return An(r,l).join("")}function j_(e,n){var t=Wn,r=Nt;if(de(n)){var l="separator"in n?n.separator:l;t="length"in n?G(n.length):t,r="omission"in n?ke(n.omission):r}e=le(e);var u=e.length;if(Yn(e)){var f=Qe(e);u=f.length}if(t>=u)return e;var p=t-Kn(r);if(p<1)return r;var g=f?An(f,0,p).join(""):e.slice(0,p);if(l===a)return g+r;if(f&&(p+=g.length-p),ti(l)){if(e.slice(p).search(l)){var w,y=g;for(l.global||(l=mo(l.source,le(vi.exec(l))+"g")),l.lastIndex=0;w=l.exec(y);)var I=w.index;g=g.slice(0,I===a?p:I)}}else if(e.indexOf(ke(l),p)!=p){var P=g.lastIndexOf(l);P>-1&&(g=g.slice(0,P))}return g+r}function e0(e){return e=le(e),e&&cc.test(e)?e.replace(Oi,Rf):e}var n0=nt(function(e,n,t){return e+(t?" ":"")+n.toUpperCase()}),ii=Jl("toUpperCase");function qa(e,n,t){return e=le(e),n=t?a:n,n===a?Of(e)?Pf(e):gf(e):e.match(n)||[]}var Za=q(function(e,n){try{return Ne(e,a,n)}catch(t){return ni(t)?t:new H(t)}}),t0=hn(function(e,n){return We(n,function(t){t=ln(t),pn(e,t,jo(e[t],e))}),e});function r0(e){var n=e==null?0:e.length,t=U();return e=n?pe(e,function(r){if(typeof r[1]!="function")throw new He(E);return[t(r[0]),r[1]]}):[],q(function(r){for(var l=-1;++l<n;){var u=e[l];if(Ne(u[0],this,r))return Ne(u[1],this,r)}})}function o0(e){return Rp(Xe(e,O))}function li(e){return function(){return e}}function i0(e,n){return e==null||e!==e?n:e}var l0=jl(),a0=jl(!0);function Me(e){return e}function ai(e){return Rl(typeof e=="function"?e:Xe(e,O))}function s0(e){return Bl(Xe(e,O))}function u0(e,n){return Pl(e,Xe(n,O))}var c0=q(function(e,n){return function(t){return Tt(t,e,n)}}),f0=q(function(e,n){return function(t){return Tt(e,t,n)}});function si(e,n,t){var r=Le(n),l=dr(n,r);t==null&&!(de(n)&&(l.length||!r.length))&&(t=n,n=e,e=this,l=dr(n,Le(n)));var u=!(de(t)&&"chain"in t)||!!t.chain,f=_n(e);return We(l,function(p){var g=n[p];e[p]=g,f&&(e.prototype[p]=function(){var w=this.__chain__;if(u||w){var y=e(this.__wrapped__),I=y.__actions__=De(this.__actions__);return I.push({func:g,args:arguments,thisArg:e}),y.__chain__=w,y}return g.apply(e,wn([this.value()],arguments))})}),e}function p0(){return we._===this&&(we._=bf),this}function ui(){}function d0(e){return e=G(e),q(function(n){return Ml(n,e)})}var h0=xo(pe),g0=xo(el),_0=xo(co);function Ja(e){return Yo(e)?fo(ln(e)):Gp(e)}function C0(e){return function(n){return e==null?a:kn(e,n)}}var m0=na(),E0=na(!0);function ci(){return[]}function fi(){return!1}function S0(){return{}}function L0(){return""}function w0(){return!0}function y0(e,n){if(e=G(e),e<1||e>qe)return[];var t=$e,r=Oe(e,$e);n=U(n),e-=$e;for(var l=go(r,n);++t<e;)n(t);return l}function O0(e){return X(e)?pe(e,ln):be(e)?[e]:De(Ca(le(e)))}function T0(e){var n=++Ff;return le(e)+n}var I0=Er(function(e,n){return e+n},0),v0=zo("ceil"),A0=Er(function(e,n){return e/n},1),R0=zo("floor");function D0(e){return e&&e.length?pr(e,Me,Io):a}function B0(e,n){return e&&e.length?pr(e,U(n,2),Io):a}function P0(e){return rl(e,Me)}function M0(e,n){return rl(e,U(n,2))}function $0(e){return e&&e.length?pr(e,Me,Do):a}function N0(e,n){return e&&e.length?pr(e,U(n,2),Do):a}var F0=Er(function(e,n){return e*n},1),k0=zo("round"),b0=Er(function(e,n){return e-n},0);function U0(e){return e&&e.length?ho(e,Me):0}function x0(e,n){return e&&e.length?ho(e,U(n,2)):0}return s.after=sg,s.ary=Aa,s.assign=qg,s.assignIn=Wa,s.assignInWith=Pr,s.assignWith=Zg,s.at=Jg,s.before=Ra,s.bind=jo,s.bindAll=t0,s.bindKey=Da,s.castArray=Sg,s.chain=Ta,s.chunk=Rd,s.compact=Dd,s.concat=Bd,s.cond=r0,s.conforms=o0,s.constant=li,s.countBy=Uh,s.create=Qg,s.curry=Ba,s.curryRight=Pa,s.debounce=Ma,s.defaults=jg,s.defaultsDeep=e_,s.defer=ug,s.delay=cg,s.difference=Pd,s.differenceBy=Md,s.differenceWith=$d,s.drop=Nd,s.dropRight=Fd,s.dropRightWhile=kd,s.dropWhile=bd,s.fill=Ud,s.filter=zh,s.flatMap=Vh,s.flatMapDeep=Xh,s.flatMapDepth=Gh,s.flatten=La,s.flattenDeep=xd,s.flattenDepth=zd,s.flip=fg,s.flow=l0,s.flowRight=a0,s.fromPairs=Wd,s.functions=a_,s.functionsIn=s_,s.groupBy=Yh,s.initial=Vd,s.intersection=Xd,s.intersectionBy=Gd,s.intersectionWith=Yd,s.invert=c_,s.invertBy=f_,s.invokeMap=qh,s.iteratee=ai,s.keyBy=Zh,s.keys=Le,s.keysIn=Pe,s.map=Ir,s.mapKeys=d_,s.mapValues=h_,s.matches=s0,s.matchesProperty=u0,s.memoize=Ar,s.merge=g_,s.mergeWith=Ha,s.method=c0,s.methodOf=f0,s.mixin=si,s.negate=Rr,s.nthArg=d0,s.omit=__,s.omitBy=C_,s.once=pg,s.orderBy=Jh,s.over=h0,s.overArgs=dg,s.overEvery=g0,s.overSome=_0,s.partial=ei,s.partialRight=$a,s.partition=Qh,s.pick=m_,s.pickBy=Va,s.property=Ja,s.propertyOf=C0,s.pull=Jd,s.pullAll=ya,s.pullAllBy=Qd,s.pullAllWith=jd,s.pullAt=eh,s.range=m0,s.rangeRight=E0,s.rearg=hg,s.reject=ng,s.remove=nh,s.rest=gg,s.reverse=Jo,s.sampleSize=rg,s.set=S_,s.setWith=L_,s.shuffle=og,s.slice=th,s.sortBy=ag,s.sortedUniq=uh,s.sortedUniqBy=ch,s.split=V_,s.spread=_g,s.tail=fh,s.take=ph,s.takeRight=dh,s.takeRightWhile=hh,s.takeWhile=gh,s.tap=Dh,s.throttle=Cg,s.thru=Tr,s.toArray=Ua,s.toPairs=Xa,s.toPairsIn=Ga,s.toPath=O0,s.toPlainObject=za,s.transform=w_,s.unary=mg,s.union=_h,s.unionBy=Ch,s.unionWith=mh,s.uniq=Eh,s.uniqBy=Sh,s.uniqWith=Lh,s.unset=y_,s.unzip=Qo,s.unzipWith=Oa,s.update=O_,s.updateWith=T_,s.values=ot,s.valuesIn=I_,s.without=wh,s.words=qa,s.wrap=Eg,s.xor=yh,s.xorBy=Oh,s.xorWith=Th,s.zip=Ih,s.zipObject=vh,s.zipObjectDeep=Ah,s.zipWith=Rh,s.entries=Xa,s.entriesIn=Ga,s.extend=Wa,s.extendWith=Pr,si(s,s),s.add=I0,s.attempt=Za,s.camelCase=D_,s.capitalize=Ya,s.ceil=v0,s.clamp=v_,s.clone=Lg,s.cloneDeep=yg,s.cloneDeepWith=Og,s.cloneWith=wg,s.conformsTo=Tg,s.deburr=Ka,s.defaultTo=i0,s.divide=A0,s.endsWith=B_,s.eq=en,s.escape=P_,s.escapeRegExp=M_,s.every=xh,s.find=Wh,s.findIndex=Ea,s.findKey=n_,s.findLast=Hh,s.findLastIndex=Sa,s.findLastKey=t_,s.floor=R0,s.forEach=Ia,s.forEachRight=va,s.forIn=r_,s.forInRight=o_,s.forOwn=i_,s.forOwnRight=l_,s.get=ri,s.gt=Ig,s.gte=vg,s.has=u_,s.hasIn=oi,s.head=wa,s.identity=Me,s.includes=Kh,s.indexOf=Hd,s.inRange=A_,s.invoke=p_,s.isArguments=xn,s.isArray=X,s.isArrayBuffer=Ag,s.isArrayLike=Be,s.isArrayLikeObject=_e,s.isBoolean=Rg,s.isBuffer=Rn,s.isDate=Dg,s.isElement=Bg,s.isEmpty=Pg,s.isEqual=Mg,s.isEqualWith=$g,s.isError=ni,s.isFinite=Ng,s.isFunction=_n,s.isInteger=Na,s.isLength=Dr,s.isMap=Fa,s.isMatch=Fg,s.isMatchWith=kg,s.isNaN=bg,s.isNative=Ug,s.isNil=zg,s.isNull=xg,s.isNumber=ka,s.isObject=de,s.isObjectLike=he,s.isPlainObject=Bt,s.isRegExp=ti,s.isSafeInteger=Wg,s.isSet=ba,s.isString=Br,s.isSymbol=be,s.isTypedArray=rt,s.isUndefined=Hg,s.isWeakMap=Vg,s.isWeakSet=Xg,s.join=Kd,s.kebabCase=$_,s.last=Ye,s.lastIndexOf=qd,s.lowerCase=N_,s.lowerFirst=F_,s.lt=Gg,s.lte=Yg,s.max=D0,s.maxBy=B0,s.mean=P0,s.meanBy=M0,s.min=$0,s.minBy=N0,s.stubArray=ci,s.stubFalse=fi,s.stubObject=S0,s.stubString=L0,s.stubTrue=w0,s.multiply=F0,s.nth=Zd,s.noConflict=p0,s.noop=ui,s.now=vr,s.pad=k_,s.padEnd=b_,s.padStart=U_,s.parseInt=x_,s.random=R_,s.reduce=jh,s.reduceRight=eg,s.repeat=z_,s.replace=W_,s.result=E_,s.round=k0,s.runInContext=h,s.sample=tg,s.size=ig,s.snakeCase=H_,s.some=lg,s.sortedIndex=rh,s.sortedIndexBy=oh,s.sortedIndexOf=ih,s.sortedLastIndex=lh,s.sortedLastIndexBy=ah,s.sortedLastIndexOf=sh,s.startCase=X_,s.startsWith=G_,s.subtract=b0,s.sum=U0,s.sumBy=x0,s.template=Y_,s.times=y0,s.toFinite=Cn,s.toInteger=G,s.toLength=xa,s.toLower=K_,s.toNumber=Ke,s.toSafeInteger=Kg,s.toString=le,s.toUpper=q_,s.trim=Z_,s.trimEnd=J_,s.trimStart=Q_,s.truncate=j_,s.unescape=e0,s.uniqueId=T0,s.upperCase=n0,s.upperFirst=ii,s.each=Ia,s.eachRight=va,s.first=wa,si(s,function(){var e={};return rn(s,function(n,t){ae.call(s.prototype,t)||(e[t]=n)}),e}(),{chain:!1}),s.VERSION=S,We(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),We(["drop","take"],function(e,n){J.prototype[e]=function(t){t=t===a?1:Ee(G(t),0);var r=this.__filtered__&&!n?new J(this):this.clone();return r.__filtered__?r.__takeCount__=Oe(t,r.__takeCount__):r.__views__.push({size:Oe(t,$e),type:e+(r.__dir__<0?"Right":"")}),r},J.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),We(["filter","map","takeWhile"],function(e,n){var t=n+1,r=t==ut||t==Ut;J.prototype[e]=function(l){var u=this.clone();return u.__iteratees__.push({iteratee:U(l,3),type:t}),u.__filtered__=u.__filtered__||r,u}}),We(["head","last"],function(e,n){var t="take"+(n?"Right":"");J.prototype[e]=function(){return this[t](1).value()[0]}}),We(["initial","tail"],function(e,n){var t="drop"+(n?"":"Right");J.prototype[e]=function(){return this.__filtered__?new J(this):this[t](1)}}),J.prototype.compact=function(){return this.filter(Me)},J.prototype.find=function(e){return this.filter(e).head()},J.prototype.findLast=function(e){return this.reverse().find(e)},J.prototype.invokeMap=q(function(e,n){return typeof e=="function"?new J(this):this.map(function(t){return Tt(t,e,n)})}),J.prototype.reject=function(e){return this.filter(Rr(U(e)))},J.prototype.slice=function(e,n){e=G(e);var t=this;return t.__filtered__&&(e>0||n<0)?new J(t):(e<0?t=t.takeRight(-e):e&&(t=t.drop(e)),n!==a&&(n=G(n),t=n<0?t.dropRight(-n):t.take(n-e)),t)},J.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},J.prototype.toArray=function(){return this.take($e)},rn(J.prototype,function(e,n){var t=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),l=s[r?"take"+(n=="last"?"Right":""):n],u=r||/^find/.test(n);l&&(s.prototype[n]=function(){var f=this.__wrapped__,p=r?[1]:arguments,g=f instanceof J,w=p[0],y=g||X(f),I=function(Z){var ee=l.apply(s,wn([Z],p));return r&&P?ee[0]:ee};y&&t&&typeof w=="function"&&w.length!=1&&(g=y=!1);var P=this.__chain__,F=!!this.__actions__.length,x=u&&!P,K=g&&!F;if(!u&&y){f=K?f:new J(this);var z=e.apply(f,p);return z.__actions__.push({func:Tr,args:[I],thisArg:a}),new Ve(z,P)}return x&&K?e.apply(this,p):(z=this.thru(I),x?r?z.value()[0]:z.value():z)})}),We(["pop","push","shift","sort","splice","unshift"],function(e){var n=Jt[e],t=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var l=arguments;if(r&&!this.__chain__){var u=this.value();return n.apply(X(u)?u:[],l)}return this[t](function(f){return n.apply(X(f)?f:[],l)})}}),rn(J.prototype,function(e,n){var t=s[n];if(t){var r=t.name+"";ae.call(Qn,r)||(Qn[r]=[]),Qn[r].push({name:n,func:t})}}),Qn[mr(a,k).name]=[{name:"wrapper",func:a}],J.prototype.clone=ep,J.prototype.reverse=np,J.prototype.value=tp,s.prototype.at=Bh,s.prototype.chain=Ph,s.prototype.commit=Mh,s.prototype.next=$h,s.prototype.plant=Fh,s.prototype.reverse=kh,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=bh,s.prototype.first=s.prototype.head,mt&&(s.prototype[mt]=Nh),s},qn=Mf();Pn?((Pn.exports=qn)._=qn,lo._=qn):we._=qn}).call(st)}($t,$t.exports);var ne=$t.exports;const Ls=o.defineComponent({name:"TooltipSummary",props:["summaries"],setup(i){return{summaryInfo:o.computed(()=>ne.reduce(i.summaries,(a,S)=>(a.count+=ne.size(S==null?void 0:S.selectedData),(S.value||S.name)&&a.summaries.push(S),a),{count:0,summaries:[]})),i18n:d.i18n,TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS}},components:{}});function ws(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-summary`)},[o.createElementVNode("div",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-summary-item`)},[o.createElementVNode("span",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-selected`)},o.toDisplayString(i.summaryInfo.count)+" "+o.toDisplayString(i.i18n("项")),3),o.createTextVNode(" "+o.toDisplayString(i.i18n("已选择")),1)],2),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.summaryInfo.summaries,E=>(o.openBlock(),o.createElementBlock("div",{key:`${E.name}-${E.value}`,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-summary-item`)},[o.createElementVNode("span",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-summary-key`)},o.toDisplayString(E.name)+" ("+o.toDisplayString(i.i18n("总和"))+") ",3),o.createElementVNode("span",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-summary-val ${i.TOOLTIP_PREFIX_CLS}-bold`)},o.toDisplayString(E.value),3)],2))),128))],2)}const ys=te(Ls,[["render",ws]]),Os=o.defineComponent({name:"TooltipOperatorTitle",props:["menu"],setup(i){const c=o.computed(()=>d.getIcon(i.menu.icon));return{TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS,icon:c}}}),Ts=["innerHTML"];function Is(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock("span",null,[i.icon?(o.openBlock(),o.createElementBlock("span",{key:0,innerHTML:i.icon,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-operator-icon`)},null,10,Ts)):o.createCommentVNode("",!0),o.createElementVNode("span",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-operator-text`)},o.toDisplayString(i.menu.label),3)])}const pi=te(Os,[["render",Is]]),vs=o.defineComponent({name:"TooltipOperatorMenu",props:["menu","cell"],setup(i){const{menu:c,cell:a}=i;return{onMenuTitleClick:()=>{var _,m;(m=(_=i.menu).onClick)==null||m.call(_,c,a)},isEmpty:ne.isEmpty,TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS}},components:{MenuItem:Re.Menu.Item,SubMenu:Re.Menu.SubMenu,TooltipOperatorTitle:pi}});function As(i,c,a,S,_,m){const E=o.resolveComponent("TooltipOperatorTitle"),A=o.resolveComponent("TooltipOperatorMenu"),M=o.resolveComponent("MenuItem"),W=o.resolveComponent("SubMenu");return o.openBlock(),o.createElementBlock(o.Fragment,null,[i.isEmpty(i.menu.children)?o.createCommentVNode("",!0):(o.openBlock(),o.createBlock(W,{key:i.menu.key,popupClassName:`${i.TOOLTIP_PREFIX_CLS}-operator-submenu-popup`,onTitleClick:i.onMenuTitleClick},{title:o.withCtx(()=>[o.createVNode(E,{menu:i.menu,onClick:i.onMenuTitleClick},null,8,["menu","onClick"])]),default:o.withCtx(()=>[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.menu.children,$=>{var O;return o.openBlock(),o.createElementBlock(o.Fragment,{key:$.key},[(O=$==null?void 0:$.children)!=null&&O.length?(o.openBlock(),o.createBlock(A,{key:0,menu:$,cell:i.cell},null,8,["menu","cell"])):(o.openBlock(),o.createBlock(M,{title:$.label,key:$.key},{default:o.withCtx(()=>[o.createVNode(E,{menu:$,onClick:i.onMenuTitleClick},null,8,["menu","onClick"])]),_:2},1032,["title"]))],64)}),128))]),_:1},8,["popupClassName","onTitleClick"])),i.isEmpty(i.menu.children)?(o.openBlock(),o.createBlock(M,{title:i.menu.label,key:i.menu.key},{default:o.withCtx(()=>[o.createVNode(E,{menu:i.menu,onClick:i.onMenuTitleClick},null,8,["menu","onClick"])]),_:1},8,["title"])):o.createCommentVNode("",!0)],64)}const Rs=te(vs,[["render",As]]),Ds=o.defineComponent({name:"TooltipOperator",props:["menu","onlyShowOperator","cell"],setup(i){const{menu:c,cell:a}=i,S=m=>{var E;(E=c==null?void 0:c.onClick)==null||E.call(c,m,a)},_=m=>()=>{m==null||m.onClick(m,a)};return{TOOLTIP_PREFIX_CLS:d.TOOLTIP_PREFIX_CLS,onMenuClick:S,onMenuTitleClick:_,menus:c==null?void 0:c.items}},components:{Menu:Re.Menu,Dropdown:Re.Dropdown,TooltipOperatorTitle:pi,TooltipOperatorMenu:Rs}});function Bs(i,c,a,S,_,m){const E=o.resolveComponent("TooltipOperatorMenu"),A=o.resolveComponent("Menu"),M=o.resolveComponent("TooltipOperatorTitle"),W=o.resolveComponent("Dropdown");return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-operator`)},[i.onlyShowOperator?(o.openBlock(),o.createBlock(A,{key:0,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-operator-menus`),onClick:i.onMenuClick},{default:o.withCtx(()=>[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.menus,$=>(o.openBlock(),o.createBlock(E,{key:$.key,menu:$,cell:i.cell},null,8,["menu","cell"]))),128))]),_:1},8,["class","onClick"])):(o.openBlock(!0),o.createElementBlock(o.Fragment,{key:1},o.renderList(i.menus,$=>(o.openBlock(),o.createBlock(W,{key:$.key,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-operator-dropdown`)},{overlay:o.withCtx(()=>{var O;return[(O=$==null?void 0:$.children)!=null&&O.length?(o.openBlock(),o.createBlock(A,{key:0,class:o.normalizeClass(`${i.TOOLTIP_PREFIX_CLS}-operator-menus`),onClick:i.onMenuClick},{default:o.withCtx(()=>[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.menus,R=>(o.openBlock(),o.createBlock(E,{key:R.key,menu:R,cell:i.cell},null,8,["menu","cell"]))),128))]),_:2},1032,["class","onClick"])):o.createCommentVNode("",!0)]}),default:o.withCtx(()=>[o.createVNode(M,{menu:$,onClick:O=>i.onMenuTitleClick($)},null,8,["menu","onClick"])]),_:2},1032,["class"]))),128))],2)}const Ps=te(Ds,[["render",Bs]]),Ms=o.defineComponent({name:"TooltipComponent",props:["data","options","cell","position","event","content"],setup(i){const{operator:c,onlyShowOperator:a}=d.getTooltipDefaultOptions(i.options);return{operator:c,onlyShowOperator:a}},components:{TooltipDescription:an,TooltipDetail:ts,TooltipHeadInfo:is,TooltipInfos:ss,TooltipInterpretation:Cs,TooltipSimpleTips:Ss,TooltipSummary:ys,TooltipOperator:Ps}});function $s(i,c,a,S,_,m){var T,D,B,k,re,Y,j,oe,ue,ge,Se,Sn,Wn,Nt,Ft,kt,ut,bt,Ut,tn,qe,xt,Bn,$e;const E=o.resolveComponent("TooltipOperator"),A=o.resolveComponent("TooltipSimpleTips"),M=o.resolveComponent("TooltipSummary"),W=o.resolveComponent("TooltipInterpretation"),$=o.resolveComponent("TooltipHeadInfo"),O=o.resolveComponent("TooltipDetail"),R=o.resolveComponent("TooltipInfos"),v=o.resolveComponent("TooltipDescription");return i.onlyShowOperator?(o.openBlock(),o.createBlock(E,{key:0,menu:(T=i.operator)==null?void 0:T.menu,onlyShowOperator:!0,cell:i.cell},null,8,["menu","cell"])):(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[o.createVNode(E,{menu:(D=i.operator)==null?void 0:D.menu,onlyShowOperator:!1,cell:i.cell},null,8,["menu","cell"]),i.content?o.renderSlot(i.$slots,"content",{key:0}):(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[o.createVNode(A,{name:(B=i.data)==null?void 0:B.name,tips:(k=i.data)==null?void 0:k.tips},null,8,["name","tips"]),(Y=(re=i.data)==null?void 0:re.summaries)!=null&&Y.length?(o.openBlock(),o.createBlock(M,{key:0,summaries:(j=i.data)==null?void 0:j.summaries},null,8,["summaries"])):o.createCommentVNode("",!0),(oe=i.data)!=null&&oe.interpretation?(o.openBlock(),o.createBlock(W,{key:1,name:(ge=(ue=i.data)==null?void 0:ue.interpretation)==null?void 0:ge.name,icon:(Sn=(Se=i.data)==null?void 0:Se.interpretation)==null?void 0:Sn.icon,text:(Nt=(Wn=i.data)==null?void 0:Wn.interpretation)==null?void 0:Nt.text,content:(kt=(Ft=i.data)==null?void 0:Ft.interpretation)==null?void 0:kt.content},null,8,["name","icon","text","content"])):o.createCommentVNode("",!0),o.createVNode($,{rows:((bt=(ut=i.data)==null?void 0:ut.headInfo)==null?void 0:bt.rows)||[],cols:((tn=(Ut=i.data)==null?void 0:Ut.headInfo)==null?void 0:tn.cols)||[]},null,8,["rows","cols"]),o.createVNode(O,{list:((qe=i.data)==null?void 0:qe.details)||[]},null,8,["list"]),(xt=i.data)!=null&&xt.infos?(o.openBlock(),o.createBlock(R,{key:2,infos:(Bn=i.data)==null?void 0:Bn.infos},null,8,["infos"])):o.createCommentVNode("",!0),o.createVNode(v,{description:($e=i.data)==null?void 0:$e.description},null,8,["description"])],64))],64))}const di=te(Ms,[["render",$s]]);class hi extends d.BaseTooltip{constructor(c){super(c)}renderContent(){var A,M;const{tooltip:c}=this.spreadsheet.options,a=this.options,S=this.spreadsheet.getCell((A=a.event)==null?void 0:A.target),_=(M=a.content)!=null?M:c==null?void 0:c.content,m=it(zn({},a),{cell:S,content:_}),E=o.createVNode(di,m,{content:()=>_});o.render(null,this.container),o.render(E,this.container)}destroy(){super.destroy(),this.container&&o.render(null,this.container)}}const $r=1,Nr=10,Ns=(i,c)=>{var $,O;const{options:{pagination:a},showPagination:S}=c,_=o.ref(($=a==null?void 0:a.current)!=null?$:$r),m=o.ref((O=a==null?void 0:a.pageSize)!=null?O:Nr),E=o.ref(0),A=R=>{_.value=R},M=R=>{m.value=R},W=o.computed(()=>S&&!ne.isEmpty(a));return o.watch([_,m],()=>Pt(this,null,function*(){if(!i.value)return;const R=ne.isEmpty(a)?null:{current:_.value,pageSize:m.value};i.value.updatePagination(R),yield i.value.render(!1)})),o.watch([()=>a,i],()=>{var R,v,T,D,B;_.value=(R=a==null?void 0:a.current)!=null?R:$r,m.value=(v=a==null?void 0:a.pageSize)!=null?v:Nr,E.value=(B=(D=(T=i.value)==null?void 0:T.facet)==null?void 0:D.viewCellHeights.getTotalLength())!=null?B:0},{immediate:!0}),o.watch(i,(R,v,T)=>{if(!i.value)return;const D=B=>{ne.isEmpty(a)||(E.value=B.total)};i.value.on(d.S2Event.LAYOUT_PAGINATION,D),T(()=>{var B;(B=i.value)==null||B.off(d.S2Event.LAYOUT_PAGINATION,D)})}),{customOptions:ne.omit(a,["current","pageSize","total"]),visible:W,current:_,pageSize:m,total:E,change:A,showSizeChange:M}},Fs=`${d.S2_PREFIX_CLS}-pagination`,ks=o.defineComponent({name:"s2-pagination",props:{current:{type:Number,default:$r},total:{type:Number,default:0},pageSize:{type:Number,default:Nr},customOptions:Object},emits:["change","showSizeChange"],setup:i=>({showQuickJumper:o.computed(()=>i.total/i.pageSize>5),PRE_CLASS:Fs,i18n:d.i18n}),components:{AntDPagination:Re.Pagination}});function bs(i,c,a,S,_,m){const E=o.resolveComponent("AntDPagination");return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(i.PRE_CLASS)},[o.createVNode(E,o.mergeProps({size:"small","default-current":1,showSizeChanger:!0,showQuickJumper:i.showQuickJumper},i.customOptions,{current:i.current,total:i.total,pageSize:i.pageSize,onShowSizeChange:c[0]||(c[0]=(A,M)=>i.$emit("showSizeChange",M)),onChange:c[1]||(c[1]=A=>i.$emit("change",A))}),null,16,["showQuickJumper","current","total","pageSize"]),o.createElementVNode("span",{class:o.normalizeClass(`${i.PRE_CLASS}-count`)},o.toDisplayString(i.i18n("共计"))+" "+o.toDisplayString(i.total||" - ")+" "+o.toDisplayString(i.i18n("条")),3)],2)}const Us=te(ks,[["render",bs]]),gi=Symbol("s2-instance");function xs(i){o.provide(gi,i)}function Fr(){return o.inject(gi,o.shallowRef(null))}const zs={tooltip:{render:i=>new hi(i)}},Ws=(...i)=>d.getBaseSheetComponentOptions(zs,...i),Q=(i,c,a,S)=>{var m;const _=E=>{const A=d.getBaseCellData(E);c(S,A)};(m=i.value)==null||m.on(a,_)},b=(i,c,a,S)=>{var m;const _=(...E)=>{c(S,...E)};(m=i.value)==null||m.on(a,_)},Hs=(i,c)=>{o.onMounted(()=>{i.value&&(Q(i,c,d.S2Event.ROW_CELL_HOVER,"rowCellHover"),Q(i,c,d.S2Event.ROW_CELL_CLICK,"rowCellClick"),Q(i,c,d.S2Event.ROW_CELL_DOUBLE_CLICK,"rowCellDoubleClick"),Q(i,c,d.S2Event.ROW_CELL_CONTEXT_MENU,"rowCellContextMenu"),Q(i,c,d.S2Event.ROW_CELL_MOUSE_DOWN,"rowCellMouseDown"),Q(i,c,d.S2Event.ROW_CELL_MOUSE_UP,"rowCellMouseUp"),Q(i,c,d.S2Event.ROW_CELL_MOUSE_MOVE,"rowCellMouseMove"),b(i,c,d.S2Event.ROW_CELL_COLLAPSED,"rowCellCollapsed"),b(i,c,d.S2Event.ROW_CELL_ALL_COLLAPSED,"rowCellAllCollapsed"),b(i,c,d.S2Event.ROW_CELL_SCROLL,"rowCellScroll"),b(i,c,d.S2Event.ROW_CELL_RENDER,"rowCellRender"),b(i,c,d.S2Event.ROW_CELL_SELECTED,"rowCellSelected"),Q(i,c,d.S2Event.COL_CELL_HOVER,"colCellHover"),Q(i,c,d.S2Event.COL_CELL_CLICK,"colCellClick"),Q(i,c,d.S2Event.COL_CELL_DOUBLE_CLICK,"colCellDoubleClick"),Q(i,c,d.S2Event.COL_CELL_CONTEXT_MENU,"colCellContextMenu"),Q(i,c,d.S2Event.COL_CELL_MOUSE_DOWN,"colCellMouseDown"),Q(i,c,d.S2Event.COL_CELL_MOUSE_UP,"colCellMouseUp"),Q(i,c,d.S2Event.COL_CELL_MOUSE_MOVE,"colCellMouseMove"),b(i,c,d.S2Event.COL_CELL_EXPANDED,"colCellExpanded"),b(i,c,d.S2Event.COL_CELL_HIDDEN,"colCellHidden"),b(i,c,d.S2Event.COL_CELL_RENDER,"colCellRender"),b(i,c,d.S2Event.COL_CELL_SELECTED,"colCellSelected"),Q(i,c,d.S2Event.DATA_CELL_HOVER,"dataCellHover"),Q(i,c,d.S2Event.DATA_CELL_CLICK,"dataCellClick"),Q(i,c,d.S2Event.DATA_CELL_DOUBLE_CLICK,"dataCellDoubleClick"),Q(i,c,d.S2Event.DATA_CELL_CONTEXT_MENU,"dataCellContextMenu"),Q(i,c,d.S2Event.DATA_CELL_MOUSE_DOWN,"dataCellMouseDown"),Q(i,c,d.S2Event.DATA_CELL_MOUSE_UP,"dataCellMouseUp"),Q(i,c,d.S2Event.DATA_CELL_MOUSE_MOVE,"dataCellMouseMove"),b(i,c,d.S2Event.DATA_CELL_BRUSH_SELECTION,"dataCellBrushSelection"),b(i,c,d.S2Event.DATA_CELL_SELECT_MOVE,"dataCellSelectMove"),b(i,c,d.S2Event.DATA_CELL_RENDER,"dataCellRender"),b(i,c,d.S2Event.DATA_CELL_SELECTED,"dataCellSelected"),Q(i,c,d.S2Event.CORNER_CELL_HOVER,"cornerCellHover"),Q(i,c,d.S2Event.CORNER_CELL_CLICK,"cornerCellClick"),Q(i,c,d.S2Event.CORNER_CELL_DOUBLE_CLICK,"cornerCellDoubleClick"),Q(i,c,d.S2Event.CORNER_CELL_CONTEXT_MENU,"cornerCellContextMenu"),Q(i,c,d.S2Event.CORNER_CELL_MOUSE_DOWN,"cornerCellMouseDown"),Q(i,c,d.S2Event.CORNER_CELL_MOUSE_UP,"cornerCellMouseUp"),Q(i,c,d.S2Event.CORNER_CELL_MOUSE_MOVE,"cornerCellMouseMove"),b(i,c,d.S2Event.CORNER_CELL_RENDER,"cornerCellRender"),b(i,c,d.S2Event.CORNER_CELL_SELECTED,"cornerCellSelected"),Q(i,c,d.S2Event.MERGED_CELLS_HOVER,"mergedCellsHover"),Q(i,c,d.S2Event.MERGED_CELLS_CLICK,"mergedCellsClick"),Q(i,c,d.S2Event.MERGED_CELLS_DOUBLE_CLICK,"mergedCellsDoubleClick"),Q(i,c,d.S2Event.MERGED_CELLS_CONTEXT_MENU,"mergedCellsContextMenu"),Q(i,c,d.S2Event.MERGED_CELLS_MOUSE_DOWN,"mergedCellsMouseDown"),Q(i,c,d.S2Event.MERGED_CELLS_MOUSE_UP,"mergedCellsMouseUp"),Q(i,c,d.S2Event.MERGED_CELLS_MOUSE_MOVE,"mergedCellsMouseMove"),b(i,c,d.S2Event.MERGED_CELLS_RENDER,"mergedCellsRender"),b(i,c,d.S2Event.SERIES_NUMBER_CELL_RENDER,"seriesNumberCellRender"),b(i,c,d.S2Event.RANGE_SORT,"rangeSort"),b(i,c,d.S2Event.RANGE_SORTED,"rangeSorted"),b(i,c,d.S2Event.RANGE_FILTER,"rangeFilter"),b(i,c,d.S2Event.RANGE_FILTERED,"rangeFiltered"),b(i,c,d.S2Event.LAYOUT_AFTER_HEADER_LAYOUT,"layoutAfterHeaderLayout"),b(i,c,d.S2Event.LAYOUT_PAGINATION,"layoutPagination"),b(i,c,d.S2Event.LAYOUT_BEFORE_RENDER,"beforeRender"),b(i,c,d.S2Event.LAYOUT_AFTER_RENDER,"afterRender"),b(i,c,d.S2Event.LAYOUT_DESTROY,"destroy"),b(i,c,d.S2Event.LAYOUT_RESIZE,"layoutResize"),b(i,c,d.S2Event.LAYOUT_RESIZE_SERIES_WIDTH,"layoutResizeSeriesWidth"),b(i,c,d.S2Event.LAYOUT_RESIZE_ROW_WIDTH,"layoutResizeRowWidth"),b(i,c,d.S2Event.LAYOUT_RESIZE_ROW_HEIGHT,"layoutResizeRowHeight"),b(i,c,d.S2Event.LAYOUT_RESIZE_COL_WIDTH,"layoutResizeColWidth"),b(i,c,d.S2Event.LAYOUT_RESIZE_COL_HEIGHT,"layoutResizeColHeight"),b(i,c,d.S2Event.LAYOUT_RESIZE_TREE_WIDTH,"layoutResizeTreeWidth"),b(i,c,d.S2Event.LAYOUT_RESIZE_MOUSE_DOWN,"layoutResizeMouseDown"),b(i,c,d.S2Event.LAYOUT_RESIZE_MOUSE_UP,"layoutResizeMouseUp"),b(i,c,d.S2Event.LAYOUT_RESIZE_MOUSE_MOVE,"layoutResizeMouseMove"),b(i,c,d.S2Event.GLOBAL_KEYBOARD_DOWN,"keyBoardDown"),b(i,c,d.S2Event.GLOBAL_KEYBOARD_UP,"keyBoardUp"),b(i,c,d.S2Event.GLOBAL_COPIED,"copied"),b(i,c,d.S2Event.GLOBAL_ACTION_ICON_HOVER,"actionIconHover"),b(i,c,d.S2Event.GLOBAL_ACTION_ICON_CLICK,"actionIconClick"),b(i,c,d.S2Event.GLOBAL_CONTEXT_MENU,"contextMenu"),b(i,c,d.S2Event.GLOBAL_HOVER,"mouseHover"),b(i,c,d.S2Event.GLOBAL_CLICK,"click"),b(i,c,d.S2Event.GLOBAL_DOUBLE_CLICK,"doubleClick"),b(i,c,d.S2Event.GLOBAL_SELECTED,"selected"),b(i,c,d.S2Event.GLOBAL_MOUSE_UP,"mouseUp"),b(i,c,d.S2Event.GLOBAL_RESET,"reset"),b(i,c,d.S2Event.GLOBAL_LINK_FIELD_JUMP,"linkFieldJump"),b(i,c,d.S2Event.GLOBAL_SCROLL,"scroll"),b(i,c,d.S2Event.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,"layoutAfterRealDataCellRender"),b(i,c,d.S2Event.ROW_CELL_BRUSH_SELECTION,"rowCellBrushSelection"),b(i,c,d.S2Event.COL_CELL_BRUSH_SELECTION,"colCellBrushSelection"))})},Vs=(i,c)=>{var _;const a=o.ref((_=c.value)!=null?_:!1),S=m=>{a.value=m};return o.watch(c,m=>{a.value=m!=null?m:!1}),o.watch(i,m=>{m==null||m.on(d.S2Event.LAYOUT_BEFORE_RENDER,()=>{S(!0)}),m==null||m.on(d.S2Event.LAYOUT_AFTER_RENDER,()=>{S(!1)})}),{loading:a,setLoading:S}},Xs=(i,c,a)=>{const S=o.ref();o.watch([i,()=>c.adaptive],([_,m],E,A)=>{_&&(S.value=d.createResizeObserver({s2:_,adaptive:m,wrapper:a.wrapperRef.value,container:a.containerRef.value}),A(()=>{var M;(M=S.value)==null||M.call(S)}))})},Gs=(i,c,a)=>{const S=o.reactive({rerender:!1,reloadData:!1,rebuildDataset:!1});o.watch(()=>c.options,(_,m)=>{var E,A;S.rerender=!0,Object.is(m==null?void 0:m.hierarchyType,_==null?void 0:_.hierarchyType)||(S.reloadData=!0,S.rebuildDataset=!0),(E=i.value)==null||E.setOptions(_),(A=i.value)==null||A.changeSheetSize(_==null?void 0:_.width,_==null?void 0:_.height)},{deep:o.isProxy(c.options)}),o.watch(()=>c.dataCfg,(_,m)=>{var E,A,M,W,$,O,R;((A=(E=m==null?void 0:m.fields)==null?void 0:E.columns)==null?void 0:A.length)!==((W=(M=_==null?void 0:_.fields)==null?void 0:M.columns)==null?void 0:W.length)&&((O=($=i.value)==null?void 0:$.facet)==null||O.clearInitColLeafNodes()),S.rerender=!0,S.reloadData=!0,(R=i.value)==null||R.setDataCfg(_)},{deep:o.isProxy(c.dataCfg)}),o.watch(()=>c.themeCfg,_=>{var m;S.rerender=!0,(m=i.value)==null||m.setThemeCfg(_)},{deep:o.isProxy(c.themeCfg)}),o.watch(S,_=>Pt(this,null,function*(){var A,M,W,$,O;if(!_.rerender)return;(A=a==null?void 0:a.before)==null||A.call(a);const m={reloadData:_.reloadData,rebuildDataSet:_.rebuildDataset},E=((M=c==null?void 0:c.onUpdate)==null?void 0:M.call(c,m))||m;yield(W=i.value)==null?void 0:W.render(E),($=c==null?void 0:c.onUpdateAfterRender)==null||$.call(c,E),(O=a==null?void 0:a.after)==null||O.call(a),_.rerender=!1,_.reloadData=!1,_.rebuildDataset=!1}))};function Ys(i,c){const{dataCfg:a,options:S,themeCfg:_,sheetType:m,spreadsheet:E,onMounted:A}=i,M=o.toRef(i,"loading"),W=o.ref(),$=o.ref(),O=o.shallowRef(),{loading:R,setLoading:v}=Vs(O,M),T=Ns(O,i),D=k=>{const re=o.toRaw(a),Y=o.toRaw(S),j=Ws(Y);return E?E(k,re,j):m==="table"||m==="editable"?new d.TableSheet(k,re,j):m==="pivotChart"?new Mt.PivotChartSheet(k,re,j):new d.PivotSheet(k,re,j)},B=()=>Pt(this,null,function*(){v(!0),O.value=D($.value),O.value.setThemeCfg(o.toRaw(_)),yield O.value.render(),v(!1),A==null||A(O.value)});return o.onMounted(B),Hs(O,c),Gs(O,i,{before(){v(!0)},after(){v(!1)}}),Xs(O,i,{wrapperRef:W,containerRef:$}),o.onBeforeUnmount(()=>{var k;v(!1),(k=O.value)==null||k.destroy()}),{wrapperRef:W,containerRef:$,s2Ref:O,loading:R,setLoading:v,pagination:T}}const Dn=()=>({sheetType:String,dataCfg:Object,themeCfg:Object,showPagination:{type:[Object,Boolean],default:!1},loading:Boolean,partDrillDown:Object,header:Object,options:{type:Object,default:{}},adaptive:{type:[Object,Boolean],default:!1},spreadsheet:Function,onMounted:Function,onUpdate:Function,onUpdateAfterRender:Function}),Ks=()=>({className:String,title:{type:String,default:d.i18n("选择下钻维度")},searchText:{type:String,default:d.i18n("搜索字段")},clearText:{type:String,default:d.i18n("恢复默认")},extra:Node,dataSet:{type:Array,default:[]},drillFields:Array,disabledFields:Array,getDrillFields:Function,setDrillFields:Function}),qs=()=>["getDrillFields","setDrillFields"],Zs=()=>["spreadsheet","rowCellHover","rowCellClick","rowCellDoubleClick","rowCellContextMenu","rowCellMouseDown","rowCellMouseUp","rowCellMouseMove","rowCellCollapsed","rowCellAllCollapsed","rowCellScroll","colCellHover","colCellClick","colCellDoubleClick","colCellContextMenu","colCellMouseDown","colCellMouseUp","colCellMouseMove","colCellExpanded","colCellHidden","dataCellHover","dataCellClick","dataCellDoubleClick","dataCellContextMenu","dataCellMouseDown","dataCellMouseUp","dataCellMouseMove","dataCellBrushSelection","dataCellSelectMove","cornerCellHover","cornerCellClick","cornerCellDoubleClick","cornerCellContextMenu","cornerCellMouseDown","cornerCellMouseUp","cornerCellMouseMove","mergedCellsHover","mergedCellsClick","mergedCellsDoubleClick","mergedCellsContextMenu","mergedCellsMouseDown","mergedCellsMouseUp","mergedCellsMouseMove","rangeSort","rangeSorted","rangeFilter","rangeFiltered","layoutAfterHeaderLayout","layoutPagination","beforeRender","afterRender","mounted","destroy","layoutResize","layoutResizeSeriesWidth","layoutResizeRowWidth","layoutResizeRowHeight","layoutResizeColWidth","layoutResizeColHeight","layoutResizeTreeWidth","layoutResizeMouseDown","layoutResizeMouseUp","layoutResizeMouseMove","keyBoardDown","keyBoardUp","copied","actionIconHover","actionIconClick","contextMenu","mouseHover","mouseUp","mouseMove","mouseDown","selected","reset","linkFieldJump","click","doubleClick","scroll","hover","layoutAfterRealDataCellRender","rowCellBrushSelection","colCellBrushSelection"],Js=o.defineComponent({name:"BaseSheet",props:Dn(),emits:Zs(),setup(i,c){const{wrapperRef:a,containerRef:S,s2Ref:_,loading:m,pagination:E}=Ys(i,c.emit),A=o.computed(()=>{var $;return($=_.value)!=null?$:null});xs(A),c.expose({get instance(){return _.value}});const M=$=>{var O,R;i.showPagination&&!ne.isBoolean(i.showPagination)&&((R=(O=i.showPagination).onChange)==null||R.call(O,$)),E.change($)},W=$=>{var O,R;i.showPagination&&!ne.isBoolean(i.showPagination)&&((R=(O=i.showPagination).onShowSizeChange)==null||R.call(O,$)),E.showSizeChange($)};return{S2_PREFIX_CLS:d.S2_PREFIX_CLS,wrapperRef:a,containerRef:S,s2Ref:_,loading:m,pagination:E,handlePageChange:M,handlePageSizeChange:W}},components:{Spin:Re.Spin,S2Pagination:Us}});function Qs(i,c,a,S,_,m){const E=o.resolveComponent("S2Pagination"),A=o.resolveComponent("Spin");return o.openBlock(),o.createBlock(A,{wrapperClassName:i.S2_PREFIX_CLS+"-spin",spinning:i.loading},{default:o.withCtx(()=>[o.createElementVNode("div",{ref:"wrapperRef",class:o.normalizeClass(i.S2_PREFIX_CLS+"-wrapper")},[o.createElementVNode("div",{ref:"containerRef",class:o.normalizeClass(i.S2_PREFIX_CLS+"-container")},null,2),i.pagination.visible.value?(o.openBlock(),o.createBlock(E,{key:0,current:i.pagination.current.value,pageSize:i.pagination.pageSize.value,total:i.pagination.total.value,customOptions:i.pagination.customOptions,onChange:i.handlePageChange,onShowSizeChange:i.handlePageSizeChange},null,8,["current","pageSize","total","customOptions","onChange","onShowSizeChange"])):o.createCommentVNode("",!0),o.renderSlot(i.$slots,"editCell")],2)]),_:3},8,["wrapperClassName","spinning"])}const En=te(Js,[["render",Qs]]),sn=i=>{const c=o.shallowRef();return i({get instance(){var a;return(a=c.value)==null?void 0:a.instance}}),c},js=o.defineComponent({name:"ChartSheet",props:Dn(),emits:[],setup(i,c){const a=sn(c.expose),{options:S,themeCfg:_}=o.toRefs(i),m=o.computed(()=>{const A={style:{rowCell:{width:100},dataCell:{width:400,height:400}},tooltip:{enable:!0}},M={showDefaultHeaderActionIcon:!1,interaction:{hoverFocus:!1,brushSelection:{dataCell:!1}}};return d.customMerge(A,S.value,M)}),E=o.computed(()=>{const A={dataCell:{cell:{interactionState:{hoverFocus:{borderOpacity:0},selected:{borderOpacity:0}}}}};return d.customMerge(A,_==null?void 0:_.value)});return{s2Ref:a,s2Options:m,themeCfg:E}},components:{BaseSheet:En}});function eu(i,c,a,S,_,m){const E=o.resolveComponent("BaseSheet");return o.openBlock(),o.createBlock(E,o.mergeProps(i.$props,{ref:"s2Ref",options:i.s2Options,themeCfg:i.themeCfg}),null,16,["options","themeCfg"])}const kr=te(js,[["render",eu]]);class _i extends d.DataCell{drawTextShape(){if(this.isMultiData())return d.drawCustomContent(this);super.drawTextShape()}}const Ci=12,mi={dataCell:{text:{fontSize:Ci,fontFamily:d.FONT_FAMILY,fill:"rgba(0, 0, 0, 0.85)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},minorText:{fontSize:11,fontFamily:d.FONT_FAMILY,fill:"rgba(0, 0, 0, 0.45)",fontWeight:"normal",textBaseline:"middle",textAlign:"left"},derivedMeasureText:{mainUp:"#F46649",mainDown:"#2AA491",minorUp:"#f9ae9e",minorDown:"#a9dad2"},bolderText:{fontSize:Ci,fontFamily:d.FONT_FAMILY,fill:"rgba(0, 0, 0, 1)",fontWeight:d.isWindows()?"bold":520,textBaseline:"middle",textAlign:"left"}}},nu=o.defineComponent({name:"GridAnalysisSheet",props:Dn(),emits:[],setup(i,c){const a=sn(c.expose),{options:S,themeCfg:_}=o.toRefs(i),m=o.computed(()=>{const A={dataCell:(M,W)=>new _i(M,W),showDefaultHeaderActionIcon:!1,style:{colCell:{hideValue:!0}}};return d.customMerge(S==null?void 0:S.value,A)}),E=o.computed(()=>d.customMerge(_==null?void 0:_.value,{theme:mi}));return{s2Ref:a,s2Options:m,s2ThemeCfg:E}},components:{BaseSheet:En}});function tu(i,c,a,S,_,m){const E=o.resolveComponent("BaseSheet");return o.openBlock(),o.createBlock(E,o.mergeProps(i.$props,{ref:"s2Ref",options:i.s2Options,themeCfg:i.s2ThemeCfg}),null,16,["options","themeCfg"])}const br=te(nu,[["render",tu]]),ru=o.defineComponent({name:"PivotChartSheet",props:Dn(),emits:[],setup(i,c){return{s2Ref:sn(c.expose)}},components:{BaseSheet:En}});function ou(i,c,a,S,_,m){const E=o.resolveComponent("BaseSheet");return o.openBlock(),o.createBlock(E,o.mergeProps(i.$props,{ref:"s2Ref"}),null,16)}const Ur=te(ru,[["render",ou]]),iu=o.defineComponent({name:"LocationIcon"}),lu={class:"antv-s2-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12.6",height:"12.6"};function au(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock("svg",lu,[...c[0]||(c[0]=[o.createElementVNode("path",{d:"M511.804 222.338c-57.117 0-105.737 20.061-145.86 60.184-40.122 40.123-60.184 88.569-60.184 145.337 0 56.769 20.062 105.214 60.185 145.337 40.122 40.123 88.742 60.185 145.859 60.185 57.116 0 105.736-20.062 145.859-60.185 40.123-40.123 60.184-88.568 60.184-145.337 0-56.768-20.061-105.214-60.184-145.337-40.123-40.123-88.743-60.184-145.86-60.184z m0 338.619c-36.729 0-68.007-12.925-93.835-38.774-25.827-25.85-38.752-57.127-38.773-93.834-0.022-36.707 12.902-68.16 38.773-94.357 25.872-26.197 57.15-39.285 93.835-39.263 36.685 0.022 67.963 13.11 93.834 39.263 25.871 26.154 38.796 57.606 38.774 94.357-0.022 36.75-12.946 68.028-38.774 93.834-25.828 25.806-57.106 38.73-93.834 38.774z m366.165-295.766c-21.084-42.168-50.327-79.223-87.73-111.165-37.404-31.941-79.898-57.105-127.484-75.491C614.472 60.845 564.155 52 511.804 52c-52.352 0-103.006 8.845-151.963 26.535-46.911 18.364-89.069 43.528-126.472 75.491-37.403 31.964-66.647 69.019-87.731 111.165C123.879 308.71 113 353.923 113 400.835c0 65.95 15.982 132.924 47.945 200.92 26.524 56.441 63.58 112.198 111.165 167.27 62.556 73.435 134.632 138.71 216.227 195.827 6.81 4.765 14.459 7.148 22.945 7.148 8.485 0 16.47-2.383 23.956-7.148 81.595-57.79 153.67-123.067 216.227-195.828 47.608-55.767 84.663-111.524 111.165-167.27 31.963-67.995 47.945-134.969 47.945-200.919 0-46.912-10.88-92.126-32.638-135.644h0.032z m-40.797 136.656c0 55.07-13.6 111.513-40.798 169.326-23.129 49.631-56.452 99.948-99.97 150.95-52.351 61.208-113.885 117.65-184.6 169.326-70.716-51.676-132.25-108.118-184.6-169.326-42.844-51.002-76.167-101.319-99.971-150.95-27.198-57.791-40.797-114.57-40.797-170.338 0-36.032 8.159-70.716 24.478-104.05 16.994-32.638 40.45-61.882 70.368-87.73 30.592-26.525 65.276-47.26 104.05-62.209 40.797-14.97 82.954-22.455 126.472-22.455 43.517 0 85.675 7.485 126.472 22.455 38.752 14.97 73.436 35.706 104.05 62.208 30.593 25.85 54.048 55.093 70.367 87.731 16.32 34.009 24.479 69.03 24.479 105.062z",fill:"currentColor"},null,-1)])])}const su=te(iu,[["render",au]]),uu=o.defineComponent({name:"TextIcon"}),cu={class:"antv-s2-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12.6",height:"12.6"};function fu(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock("svg",cu,[...c[0]||(c[0]=[o.createElementVNode("path",{d:"M86.016 805.888H0L143.872 275.968h79.36l144.896 529.92H276.992l-29.696-109.056H115.2s-29.696 109.056-29.184 109.056zM225.28 613.376L181.248 455.68 138.24 613.376h87.04zM519.168 430.08c24.576-16.384 47.616-25.088 69.12-25.088 30.72 0 58.368 14.848 81.92 44.032 24.064 29.184 35.328 72.192 35.328 128.512 0 44.032-7.168 83.456-22.528 118.272-14.848 34.816-35.328 62.976-60.416 83.456-26.112 20.992-57.856 31.232-95.232 31.232-15.36-0.512-31.232-1.536-46.592-3.584-4.096-0.512-8.704-1.024-12.8-1.536h-66.56V256h81.92v206.336c11.264-12.8 23.04-23.552 35.84-32.256z m-35.328 157.184v135.168c13.824 3.072 26.112 4.608 37.376 4.608 27.648 0 50.176-11.776 69.12-36.352 19.456-25.088 28.672-59.392 28.672-104.96 0-32.256-5.12-55.296-14.848-70.144-9.216-13.824-18.432-19.968-28.672-19.968-12.288 0-27.136 7.68-44.544 24.064-16.896 16.896-32.768 39.424-47.104 67.584zM1013.76 794.624c-36.864 14.336-71.68 20.992-104.96 20.992-32.768 0.512-64.512-9.216-91.648-27.136-27.136-18.432-48.64-44.032-62.464-73.728-14.848-30.72-22.528-65.536-22.528-104.448 0-58.88 16.896-108.032 51.2-146.944 33.792-38.912 75.264-58.88 123.392-58.88 34.304 0 70.144 7.168 108.032 21.504l10.24 4.096v95.232l-20.992-10.752c-34.816-17.92-65.536-26.624-92.16-26.624-16.896 0-32.768 4.608-47.104 13.824-13.824 8.704-25.088 23.04-32.768 42.496-8.192 19.968-12.288 41.472-12.288 63.488 0 28.672 7.68 55.808 24.064 82.432 14.848 24.576 37.888 36.352 71.168 36.352 10.752 0 21.504-1.024 31.744-2.56 9.728-1.536 29.696-8.192 58.88-18.944l19.456-7.68v92.672l-11.264 4.608z",fill:"currentColor"},null,-1)])])}const pu=te(uu,[["render",fu]]),du=o.defineComponent({name:"CalendarIcon"}),hu={class:"antv-s2-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"12.6",height:"12.6"};function gu(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock("svg",hu,[...c[0]||(c[0]=[o.createElementVNode("path",{d:"M950.016 898.016l-206.016-204.992Q832 586.016 832 448.032q0-159.008-112.512-271.488T448 64.032 176.512 176.544 64 448.032t112.512 271.488T448 832.032q138.016 0 244.992-88l206.016 206.016q10.016 10.016 24.992 10.016t26.016-10.016q10.016-11.008 10.016-26.016t-10.016-26.016zM568.992 736Q512 760 448 760T327.008 736q-56-24-99.488-67.488t-66.496-99.488q-24.992-56.992-24.992-120.992t24.992-120.992q23.008-56 66.496-99.488t99.488-67.488Q384 136.064 448 136.064t120.992 24q56 24 99.488 67.488t67.488 99.488q24 56.992 24 120.992t-24 120.992q-24 56-67.488 99.488T568.992 736z",fill:"currentColor"},null,-1)])])}const _u=te(du,[["render",gu]]),Cu=o.defineComponent({name:"DrillDown",props:Ks(),emits:qs(),methods:{},components:{Button:Re.Button,Input:Re.Input,Empty:Re.Empty,Menu:Re.Menu,MenuItem:Re.MenuItem,LocationIcon:su,TextIcon:pu,CalendarIcon:_u},setup(i){const{dataSet:c,disabledFields:a,getDrillFields:S,setDrillFields:_,className:m}=i,E=()=>c.map(R=>(R.disabled=!!(a&&a.includes(R.value)),R)),A=o.ref(E()),M=o.ref([]);return{options:A,handleSearch:R=>{const{value:v}=R.target;if(!v)A.value=[...c];else{const T=new RegExp(v,"gi"),D=c.filter(B=>T.test(B.name));A.value=[...D]}},handleSelect:R=>{const v=R==null?void 0:R.selectedKeys;M.value=v,S&&S(v),_&&_(v)},handleClear:R=>{R.stopPropagation(),M.value=[],S&&S([]),_&&_([])},className:m,selected:M,isEmpty:ne.isEmpty,DRILL_DOWN_PRE_CLASS:d.DRILL_DOWN_PRE_CLASS}}});function mu(i,c,a,S,_,m){const E=o.resolveComponent("Button"),A=o.resolveComponent("Input"),M=o.resolveComponent("Empty"),W=o.resolveComponent("TextIcon"),$=o.resolveComponent("CalendarIcon"),O=o.resolveComponent("LocationIcon"),R=o.resolveComponent("MenuItem"),v=o.resolveComponent("Menu");return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass([i.DRILL_DOWN_PRE_CLASS,i.className])},[o.createElementVNode("header",{class:o.normalizeClass(`${i.DRILL_DOWN_PRE_CLASS}-header`)},[o.createElementVNode("div",null,o.toDisplayString(i.title),1),o.createVNode(E,{type:"link",onClick:i.handleClear},{default:o.withCtx(()=>[o.createTextVNode(o.toDisplayString(i.clearText),1)]),_:1},8,["onClick"])],2),o.createVNode(A,{class:o.normalizeClass(`${i.DRILL_DOWN_PRE_CLASS}-search`),placeholder:i.searchText,onChange:i.handleSearch,onPressEnter:i.handleSearch,allowClear:!0},null,8,["class","placeholder","onChange","onPressEnter"]),i.isEmpty(i.options)?(o.openBlock(),o.createBlock(M,{key:0,imageStyle:{height:"64px"},class:o.normalizeClass(`${i.DRILL_DOWN_PRE_CLASS}-empty`)},null,8,["class"])):o.createCommentVNode("",!0),o.createVNode(v,{class:"`${DRILL_DOWN_PRE_CLASS}-menu`",selectedKeys:i.selected,"onUpdate:selectedKeys":c[0]||(c[0]=T=>i.selected=T),onSelect:i.handleSelect},{default:o.withCtx(()=>[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.options,T=>(o.openBlock(),o.createBlock(R,{key:T.value,disabled:T.disabled,class:o.normalizeClass(`${i.DRILL_DOWN_PRE_CLASS}-menu-item`)},{icon:o.withCtx(()=>[T.type==="text"?(o.openBlock(),o.createBlock(W,{key:0})):o.createCommentVNode("",!0),T.type==="date"?(o.openBlock(),o.createBlock($,{key:1})):o.createCommentVNode("",!0),T.type==="location"?(o.openBlock(),o.createBlock(O,{key:2})):o.createCommentVNode("",!0)]),default:o.withCtx(()=>[o.createTextVNode(" "+o.toDisplayString(T==null?void 0:T.name),1)]),_:2},1032,["disabled","class"]))),128))]),_:1},8,["selectedKeys","onSelect"])],2)}const Eu=te(Cu,[["render",mu],["__scopeId","data-v-51804a8c"]]),Su=o.defineComponent({name:"PivotSheet",props:Dn(),emits:[],setup(i,c){const a=sn(c.expose),{options:S}=o.toRefs(i),{dataCfg:_,partDrillDown:m}=o.toRefs(i),E=o.ref([]),A=$=>{var R,v,T,D,B,k;const O=(R=a==null?void 0:a.value)==null?void 0:R.instance;E.value=$,O==null||O.hideTooltip(),ne.isEmpty($)?O==null||O.clearDrillDownData((v=O==null?void 0:O.store.get("drillDownNode"))==null?void 0:v.id):d.handleDrillDown({rows:(D=(T=_.value)==null?void 0:T.fields.rows)!=null?D:[],drillFields:$,fetchData:(B=m.value)==null?void 0:B.fetchData,drillItemsNum:(k=m.value)==null?void 0:k.drillItemsNum,spreadsheet:O})},M=$=>{var v,T;const{event:O,disabledFields:R}=$;if(O){const D=(v=a==null?void 0:a.value)==null?void 0:v.instance,B=o.createVNode(Eu,it(zn({},(T=m.value)==null?void 0:T.drillConfig),{setDrillFields:A,drillFields:E.value,disabledFields:R}));D==null||D.showTooltip({position:{x:O.clientX,y:O.clientY},event:O,content:B})}},W=o.computed(()=>d.buildDrillDownOptions(S.value,m.value,$=>M($)));return{s2Ref:a,options:W}},components:{BaseSheet:En}});function Lu(i,c,a,S,_,m){const E=o.resolveComponent("BaseSheet");return o.openBlock(),o.createBlock(E,o.mergeProps(i.$props,{ref:"s2Ref",options:i.options}),null,16,["options"])}const xr=te(Su,[["render",Lu]]);class Ei extends d.ColCell{constructor(c,a,S){super(c,a,S)}drawTextShape(){const c=this.getMeta(),a=d.safeJsonParse(c==null?void 0:c.value);if(!ne.isArray(a))return super.drawTextShape();const{formattedValue:S}=this.getFormattedFieldValue(),_=S!==(c==null?void 0:c.value)?[[S]]:[a];d.drawCustomContent(this,{values:_},!1)}}class Si extends d.DataCell{drawTextShape(){if(this.isMultiData())return d.drawCustomContent(this);super.drawTextShape()}}class Li extends d.CustomGridPivotDataSet{getExistValuesByDataItem(c){const a=ne.keys(c).filter(S=>ne.isObject(c[S]));return ne.isEmpty(a)&&a.push(d.EMPTY_EXTRA_FIELD_PLACEHOLDER),a}processDataCfg(c){const a=super.processDataCfg(c),S=this.processMeta(c.meta,d.i18n("数值"));return it(zn({},a),{meta:S,fields:it(zn({},a.fields),{rows:[...c.fields.rows||[],d.EXTRA_FIELD]})})}}const wu=o.defineComponent({name:"StrategySheet",props:Dn(),emits:[],setup(i,c){const a=sn(c.expose),{options:S,themeCfg:_,dataCfg:m}=o.toRefs(i),E=o.computed(()=>{var W,$;if(ne.isEmpty(m.value))return null;const M=ne.size(($=(W=m.value)==null?void 0:W.fields)==null?void 0:$.values)===1;return{hierarchyType:"tree",dataCell:(O,R)=>new Si(O,R),colCell:(O,R,v)=>new Ei(O,R,v),dataSet:O=>new Li(O),showDefaultHeaderActionIcon:!1,style:{colCell:{hideValue:M}},interaction:{autoResetSheetStyle:!0,brushSelection:!1,selectedCellMove:!1,multiSelection:!1,rangeSelection:!1},tooltip:{operation:{hiddenColumns:!0}}}}),A=o.computed(()=>d.customMerge(E.value,S==null?void 0:S.value));return{s2Ref:a,s2Options:A,themeCfg:_}},components:{BaseSheet:En}});function yu(i,c,a,S,_,m){const E=o.resolveComponent("BaseSheet");return o.openBlock(),o.createBlock(E,o.mergeProps(i.$props,{ref:"s2Ref",options:i.s2Options,themeCfg:i.themeCfg}),null,16,["options","themeCfg"])}const zr=te(wu,[["render",yu]]),Ou=o.defineComponent({name:"TableSheet",props:[],emits:[],setup(i,c){return{s2Ref:sn(c.expose)}},components:{BaseSheet:En}});function Tu(i,c,a,S,_,m){const E=o.resolveComponent("BaseSheet");return o.openBlock(),o.createBlock(E,{ref:"s2Ref"},null,512)}const Wr=te(Ou,[["render",Tu]]),Iu=o.defineComponent({name:"DragCopyMask",props:{onCopyFinished:{type:Function,default:void 0}},setup(i){const c=Fr(),a=o.ref(),S=o.ref({right:0,bottom:0}),_=o.ref(),m={x:0,y:0},E=(v,T)=>{const D=c.value;if(!D)return!1;const B=ne.pick(T.getMeta(),["x","y","width","height","fieldValue"]),k=D.facet.getScrollOffset(),re=D.facet.getColNodes()[0],Y=(re==null?void 0:re.height)||0,j=v.x,oe=v.y,ue=(k==null?void 0:k.scrollY)-Y,ge=B.x-k.scrollX+B.width+4,Se=B.x-k.scrollX,Sn=B.y-ue+B.height+4,Wn=B.y-ue;return ge>=j&&Se<j&&Sn>=oe&&Wn<oe},A=v=>{const T=c.value;if(!T)return!1;const D=T.getCanvasElement().getBoundingClientRect(),B=T.facet.frozenGroupAreas,k=D.x,re=D.x+D.width,Y=D.y+B[d.FrozenGroupArea.Row].height,j=D.y+D.height;return v.x<=re&&v.x>=k&&v.y<=j&&v.y>=Y},M=v=>{const T=c.value;if(!T)return;const D=T.getCanvasElement().getBoundingClientRect();return T.facet.getDataCells().find(k=>E({y:v.y-D.y,x:v.x-D.x},k))},W=(v,T)=>{const D=c.value;if(!D)return[];const B=v.getMeta(),k=T==null?void 0:T.getMeta(),re=Math.min(B.colIndex,k.colIndex),Y=Math.max(B.colIndex,k.colIndex),j=Math.max(B.rowIndex,k.rowIndex),oe=Math.min(B.rowIndex,k.rowIndex);return D.facet.getDataCells().filter(ge=>{const Se=ge.getMeta();return Se.rowIndex<=j&&Se.rowIndex>=oe&&Se.colIndex<=Y&&Se.colIndex>=re})},$=ne.throttle(v=>{const T=c.value;if(!a.value||!T)return;let D=M(v),B=v.x-_.value.x,k=v.y-_.value.y;A(v)?(m.x=v.x,m.y=v.y):(D=M(m),B=m.x-_.value.x,k=m.y-_.value.y),S.value={right:B,bottom:k};const re=W(a.value,D);T.interaction.changeState({cells:re.map(Y=>Y.getMeta()),stateName:d.InteractionStateName.PREPARE_SELECT,force:!0})},10),O=v=>Pt(this,null,function*(){var j;const T=c.value;if(!a.value||!T)return;const D=M(v)||M(m),B=T.dataSet.getDisplayDataSet(),k=W(a.value,D),{fieldValue:re}=a.value.getMeta(),Y=k.map(oe=>{const{rowIndex:ue,valueField:ge}=oe.getMeta();return B[ue]&&typeof B[ue][ge]!="undefined"&&(B[ue][ge]=re),oe});T.interaction.changeState({cells:Y.map(oe=>oe.getMeta()),stateName:d.InteractionStateName.PREPARE_SELECT,force:!0}),yield T.render(!0),S.value={right:0,bottom:0},T.off(d.S2Event.GLOBAL_MOUSE_MOVE,$),T.off(d.S2Event.GLOBAL_MOUSE_UP,O),a.value=void 0,(j=i.onCopyFinished)==null||j.call(i)}),R=v=>{const T=c.value;if(!T||ne.get(v,"target.id")!=="spreadsheet-drag-copy-point")return;const D=v.target.getBoundingClientRect(),{top:B,left:k}=ne.get(v,"target.style",{}),Y=T.facet.getDataCells().find(j=>E({y:parseFloat(B),x:parseFloat(k)},j));_.value={x:D.x,y:D.y},a.value=Y};return o.watch(a,v=>{const T=c.value;v&&T&&(T.on(d.S2Event.GLOBAL_MOUSE_MOVE,$),T.on(d.S2Event.GLOBAL_MOUSE_UP,O))}),o.onMounted(()=>{const v=document.getElementById("spreadsheet-drag-copy-point");v==null||v.addEventListener("mousedown",R)}),o.onUnmounted(()=>{const v=document.getElementById("spreadsheet-drag-copy-point");v==null||v.removeEventListener("mousedown",R)}),{S2_PREFIX_CLS:d.S2_PREFIX_CLS,maskPosition:S}}});function vu(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass(`${i.S2_PREFIX_CLS}-drag-copy-mask`),style:o.normalizeStyle({right:i.maskPosition.right>0?`${i.maskPosition.right}px`:"0",bottom:i.maskPosition.bottom>0?`${i.maskPosition.bottom}px`:"0",left:i.maskPosition.right<=0?`${i.maskPosition.right}px`:"0",top:i.maskPosition.bottom<=0?`${i.maskPosition.bottom}px`:"0",width:`${Math.abs(i.maskPosition.right)}px`,height:`${Math.abs(i.maskPosition.bottom)}px`})},null,6)}const Au=te(Iu,[["render",vu]]),Ru=o.defineComponent({name:"DragCopyPoint",components:{DragCopyMask:Au},setup(){const i=Fr(),c=o.ref({scrollX:-999,scrollY:-999,width:8,overflow:!0}),a=o.ref({left:-999,top:-999}),S=o.ref(),_=()=>{var B;const O=i.value;if(!O)return;const R=O.facet.getScrollOffset(),v=O.facet.frozenGroupAreas,T=O.getCanvasElement().getBoundingClientRect(),D=(B=S.value)==null?void 0:B.getMeta();if(!ne.isEqual(R,c.value))if(D){const{verticalBorderWidth:k=0,horizontalBorderWidth:re=0}=S.value.getStyle().cell,Y=D.width+D.x,j=D.height+D.y,oe=Y-R.scrollX-T.width+(k+re)*2;let ue=!0;v[d.FrozenGroupArea.Col].width>=Y-R.scrollX-re*2||v[d.FrozenGroupArea.Row].height>=j-R.scrollY-k*2||T.width<=Y-R.scrollX-re*2||T.height<=j-R.scrollY+v[d.FrozenGroupArea.Row].height?ue=!0:ue=!1,c.value=it(zn({},R),{overflow:ue,width:8-(oe>0?oe:0)})}else c.value={scrollX:-999,scrollY:-999,overflow:!0}},m=O=>{const R=i.value;if(!R)return;const v=R.getCell(O.target);R.interaction.isSelectedCell(v)?S.value=v:S.value=void 0},E=()=>{S.value=void 0},A=()=>{E()},M=()=>{const O=i.value;O&&(O.on(d.S2Event.COL_CELL_CLICK,E),O.on(d.S2Event.ROW_CELL_CLICK,E),O.on(d.S2Event.CORNER_CELL_CLICK,E),O.on(d.S2Event.DATA_CELL_BRUSH_SELECTION,E),O.on(d.S2Event.DATA_CELL_CLICK,m),O.on(d.S2Event.GLOBAL_SCROLL,_))},W=()=>{const O=i.value;O&&(O.off(d.S2Event.COL_CELL_CLICK,E),O.off(d.S2Event.ROW_CELL_CLICK,E),O.off(d.S2Event.CORNER_CELL_CLICK,E),O.off(d.S2Event.DATA_CELL_BRUSH_SELECTION,E),O.off(d.S2Event.DATA_CELL_CLICK,m),O.off(d.S2Event.GLOBAL_SCROLL,_))};o.watch(S,()=>{_()}),o.watch([c,S],()=>{var R,v;const O=i.value;if(O!=null&&O.getCanvasElement()&&O&&S.value){const T=O.facet.getColNodes()[0],D=(T==null?void 0:T.height)||0,B=ne.pick(S.value.getMeta(),["x","y","width","height","fieldValue"]);B.x-=(R=c.value)==null?void 0:R.scrollX,B.y-=((v=c.value)==null?void 0:v.scrollY)-D,a.value={left:B.x+B.width-4,top:B.y+B.height-4}}}),o.watch(()=>{var O,R;return[(O=i.value)==null?void 0:O.dataSet.sortParams,(R=i.value)==null?void 0:R.dataSet.filterParams]},()=>{S.value&&(S.value=void 0)}),o.watch(i,(O,R)=>{R&&(R.off(d.S2Event.COL_CELL_CLICK,E),R.off(d.S2Event.ROW_CELL_CLICK,E),R.off(d.S2Event.CORNER_CELL_CLICK,E),R.off(d.S2Event.DATA_CELL_BRUSH_SELECTION,E),R.off(d.S2Event.DATA_CELL_CLICK,m),R.off(d.S2Event.GLOBAL_SCROLL,_)),O&&M()},{immediate:!0}),o.onUnmounted(()=>{W()});const $=o.computed(()=>({display:c.value.overflow?"none":"block",left:`${a.value.left}px`,top:`${a.value.top}px`,width:`${c.value.width}px`}));return{S2_PREFIX_CLS:d.S2_PREFIX_CLS,pointStyle:$,onCopyFinished:A}}});function Du(i,c,a,S,_,m){const E=o.resolveComponent("DragCopyMask");return o.openBlock(),o.createElementBlock("div",{id:"spreadsheet-drag-copy-point",class:o.normalizeClass(`${i.S2_PREFIX_CLS}-drag-copy-point`),style:o.normalizeStyle(i.pointStyle)},[o.createVNode(E,{onCopyFinished:i.onCopyFinished},null,8,["onCopyFinished"])],6)}const Bu=te(Ru,[["render",Du]]);function Pu(i){return zn({},i)}const Mu=o.defineComponent({name:"EditableSheet",props:Dn(),emits:[],setup(i,c){var R;const a=sn(c.expose),{options:S}=o.toRefs(i),_=o.ref(null),m=o.ref(null),E=o.ref(""),A=o.computed(()=>Pu(S.value)),M=o.reactive({width:0,height:0,left:0,top:0,display:"none",zIndex:1e3,position:"absolute"});function W(){var Se;const v=(Se=a.value)==null?void 0:Se.instance,T=m.value;if(!v||!T){M.display="none";return}const D=v.facet.getScrollOffset();let B=ne.pick(T.getMeta(),["x","y","width","height"]);(ne.isNil(B.x)||ne.isNil(B.y))&&(B={x:0,y:0,width:0,height:0});const k=v.facet.getColNodes()[0],re=(k==null?void 0:k.height)||0;B.x-=D.scrollX||0,B.y-=(D.scrollY||0)-re;const{x:Y,y:j,width:oe,height:ue}=B,ge=j>=0&&j<=v.facet.getCanvasSize().height&&Y>=0&&Y<=v.facet.getCanvasSize().width;M.width=oe?`${oe}px`:"0px",M.height=ue?`${ue}px`:"0px",M.left=Y?`${Y}px`:"0px",M.top=j?`${j}px`:"0px",M.display=m.value&&ge?"block":"none"}o.watch([m,(R=a.value)==null?void 0:R.instance.facet.getScrollOffset()],()=>{W()});const $=v=>{m.value=v.target,E.value=v.target.getActualText(),setTimeout(()=>{var T;(T=_.value)==null||T.focus()},100)};function O(){var oe,ue;const v=_.value,T=m.value,D=(oe=a.value)==null?void 0:oe.instance;if(!D||!T||!v)return;const{rowIndex:B,valueField:k,id:re}=T.getMeta(),Y=v.value,j=D.dataSet.getDisplayDataSet();j[B][k]=Y,(ue=D.dataSet.displayFormattedValueMap)==null||ue.set(re,Y),D.render(),m.value=null}return{setInputStyle:W,s2Ref:a,options:A,inputStyle:M,onDataCellDbClick:$,inputRef:_,onSave:O,inputValue:E,Input:Re.Input}},components:{BaseSheet:En,DragCopyPoint:Bu}});function $u(i,c,a,S,_,m){const E=o.resolveComponent("Input"),A=o.resolveComponent("DragCopyPoint"),M=o.resolveComponent("BaseSheet");return o.openBlock(),o.createBlock(M,o.mergeProps({onDataCellDoubleClick:i.onDataCellDbClick,onScroll:i.setInputStyle,onDataCellClick:i.onSave,ref:"s2Ref"},i.$props,{options:i.options}),{editCell:o.withCtx(()=>[o.createVNode(E,{onBlur:i.onSave,value:i.inputValue,ref:"inputRef",style:o.normalizeStyle(i.inputStyle)},null,8,["onBlur","value","style"]),o.createVNode(A)]),_:1},16,["onDataCellDoubleClick","onScroll","onDataCellClick","options"])}const Hr=te(Mu,[["render",$u]]),Nu=o.defineComponent({name:"Sheet",props:[],emits:[],setup(i,c){const a=sn(c.expose),S=o.computed(()=>{switch(c.attrs.sheetType){case"table":return Wr;case"editable":return Hr;case"chart":return kr;case"gridAnalysis":return br;case"strategy":return zr;case"pivotChart":return Ur;default:return xr}});return{s2Ref:a,sheetType:S}},components:{PivotSheet:xr,TableSheet:Wr,EditableSheet:Hr,ChartSheet:kr,GridAnalysisSheet:br,StrategySheet:zr,PivotChartSheet:Ur}});function Fu(i,c,a,S,_,m){return o.openBlock(),o.createBlock(o.resolveDynamicComponent(i.sheetType),{ref:"s2Ref"},null,512)}const ku=te(Nu,[["render",Fu]]),bu=o.defineComponent({name:"StrategySheetColCellTooltip",props:{cell:{type:Object,required:!0},label:{type:[Object,Function],default:void 0}},setup(i){const c=o.computed(()=>i.cell.getMeta()),a=o.computed(()=>c.value.isLeaf&&c.value.level!==0),S=o.computed(()=>{const m=c.value,E=m.spreadsheet.dataSet.getFieldName(m.field),A=ne.isFunction(i.label)?i.label(i.cell,E):i.label;return A!=null?A:E}),_=o.computed(()=>c.value.value);return{tooltipCls:d.getStrategySheetTooltipClsName,shouldHide:a,cellName:S,cellValue:_}}});function Uu(i,c,a,S,_,m){return i.shouldHide?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass([i.tooltipCls(),i.tooltipCls("col")])},[o.createElementVNode("span",{class:o.normalizeClass(i.tooltipCls("name"))},o.toDisplayString(i.cellName),3),o.createElementVNode("span",{class:o.normalizeClass(i.tooltipCls("value"))},o.toDisplayString(i.cellValue),3)],2))}const xu=te(bu,[["render",Uu]]),zu=o.defineComponent({name:"StrategySheetDataCellTooltip",props:{cell:{type:Object,required:!0},label:{type:[Object,Function],default:void 0},showOriginalValue:{type:Boolean,default:!1},renderDerivedValue:{type:Function,default:void 0}},setup(i){const c=o.computed(()=>i.cell.getMeta()),a=o.computed(()=>c.value.spreadsheet),S=o.computed(()=>{var T;return(T=c.value)==null?void 0:T.fieldValue}),_=o.computed(()=>a.value.dataSet.getCustomFieldDescription(i.cell)),m=o.computed(()=>{const T=a.value.dataSet.getCustomRowFieldName(i.cell),D=ne.isFunction(i.label)?i.label(i.cell,T):i.label;return D!=null?D:T}),E=o.computed(()=>a.value.facet.getColLeafNodeByIndex(c.value.colIndex)),A=o.computed(()=>{var T;try{const[,...D]=JSON.parse((T=E.value)==null?void 0:T.value);return D}catch(D){return[]}}),M=o.computed(()=>{var T,D;return(D=(T=a.value.options.style)==null?void 0:T.dataCell)==null?void 0:D.valuesCfg}),W=o.computed(()=>{var D;const T=ne.first((D=S.value)==null?void 0:D.values)||[S.value];return{value:T[0],derivedValues:T.slice(1)}}),$=o.computed(()=>{var B;const T=ne.get(S.value,(B=M.value)==null?void 0:B.originalValueField),D=ne.first(T)||[W.value.value];return{originalValue:D[0],derivedOriginalValues:D.slice(1)}}),O=o.computed(()=>d.getEmptyPlaceholder(c.value,a.value.options.placeholder)),R=o.computed(()=>{var T;return((T=M.value)==null?void 0:T.showOriginalValue)||i.showOriginalValue}),v=(T,D)=>{const B=d.isUnchangedValue(T,W.value.value),k=!B&&d.isUpDataValue(T),re=!B&&!k,Y=$.value.derivedOriginalValues[D];return{isUnchanged:B,isUp:k,isDown:re,originalDerivedValue:Y}};return{tooltipCls:d.getStrategySheetTooltipClsName,i18n:d.i18n,isEmpty:ne.isEmpty,isNil:ne.isNil,rowName:m,rowDescription:_,values:W,originalValues:$,derivedLabels:A,emptyPlaceholder:O,shouldShowOriginalValue:R,getDerivedValueInfo:v}}}),Wu={class:"header-label"},Hu={class:"derived-value-label"},Vu={key:0,class:"derived-value-trend-icon"},Xu={key:2,class:"derived-value-content"};function Gu(i,c,a,S,_,m){var E;return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass([i.tooltipCls(),i.tooltipCls("data")])},[o.createElementVNode("div",{class:o.normalizeClass(i.tooltipCls("header"))},[o.createElementVNode("span",Wu,o.toDisplayString(i.rowName),1),o.createElementVNode("span",null,o.toDisplayString((E=i.values.value)!=null?E:i.emptyPlaceholder),1)],2),i.shouldShowOriginalValue?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(i.tooltipCls("original-value"))},o.toDisplayString(i.isNil(i.originalValues.originalValue)?i.emptyPlaceholder:i.originalValues.originalValue),3)):o.createCommentVNode("",!0),i.isEmpty(i.values.derivedValues)?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[o.createElementVNode("div",{class:o.normalizeClass(i.tooltipCls("divider"))},null,2),o.createElementVNode("ul",{class:o.normalizeClass(i.tooltipCls("derived-values"))},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(i.values.derivedValues,(A,M)=>{var W;return o.openBlock(),o.createElementBlock("li",{key:M,class:"derived-value-item"},[o.createElementVNode("span",Hu,o.toDisplayString(i.derivedLabels[M]),1),o.createElementVNode("span",{class:o.normalizeClass(["derived-value-group",{"derived-value-trend-up":i.getDerivedValueInfo(A,M).isUp,"derived-value-trend-down":i.getDerivedValueInfo(A,M).isDown}])},[i.getDerivedValueInfo(A,M).isUnchanged?o.createCommentVNode("",!0):(o.openBlock(),o.createElementBlock("span",Vu)),(W=i.renderDerivedValue)!=null&&W.call(i,A,i.getDerivedValueInfo(A,M).originalDerivedValue,i.cell)?(o.openBlock(),o.createElementBlock(o.Fragment,{key:1},[o.createTextVNode(o.toDisplayString(i.renderDerivedValue(A,i.getDerivedValueInfo(A,M).originalDerivedValue,i.cell)),1)],64)):(o.openBlock(),o.createElementBlock("span",Xu,o.toDisplayString(A!=null?A:i.emptyPlaceholder),1))],2)])}),128))],2)],64)),i.rowDescription?(o.openBlock(),o.createElementBlock("div",{key:2,class:o.normalizeClass(i.tooltipCls("description"))},[o.createElementVNode("span",{class:o.normalizeClass(i.tooltipCls("description-label"))},o.toDisplayString(i.i18n("说明")),3),o.createElementVNode("span",{class:o.normalizeClass(i.tooltipCls("description-text"))},o.toDisplayString(i.rowDescription),3)],2)):o.createCommentVNode("",!0)],2)}const Yu=te(zu,[["render",Gu]]),Ku=o.defineComponent({name:"StrategySheetRowCellTooltip",props:{cell:{type:Object,required:!0},label:{type:[Object,Function],default:void 0}},setup(i){const c=o.computed(()=>i.cell.getMeta()),a=o.computed(()=>{const{value:_}=c.value,m=ne.isFunction(i.label)?i.label(i.cell,_):i.label;return m!=null?m:_}),S=o.computed(()=>{const{field:_,spreadsheet:m,extra:E}=c.value;return m.dataSet.getFieldDescription(_)||(E==null?void 0:E.description)});return{tooltipCls:d.getStrategySheetTooltipClsName,i18n:d.i18n,rowName:a,description:S}}});function qu(i,c,a,S,_,m){return o.openBlock(),o.createElementBlock("div",{class:o.normalizeClass([i.tooltipCls(),i.tooltipCls("row")])},[o.createElementVNode("div",{class:o.normalizeClass(i.tooltipCls("value"))},o.toDisplayString(i.rowName),3),i.description?(o.openBlock(),o.createElementBlock("div",{key:0,class:o.normalizeClass(i.tooltipCls("description"))},[o.createElementVNode("span",{class:o.normalizeClass(i.tooltipCls("description-label"))},o.toDisplayString(i.i18n("说明")),3),o.createElementVNode("span",{class:o.normalizeClass(i.tooltipCls("description-text"))},o.toDisplayString(i.description),3)],2)):o.createCommentVNode("",!0)],2)}const Zu=te(Ku,[["render",qu]]),Ju="@antv/s2-vue-v2.1.0";V.BaseSheet=En,V.ChartSheet=kr,V.CustomTooltip=hi,V.EditableSheet=Hr,V.GridAnalysisSheet=br,V.GridAnalysisSheetDataCell=_i,V.GridAnalysisTheme=mi,V.PivotChartSheet=Ur,V.PivotSheet=xr,V.SheetComponent=ku,V.StrategySheet=zr,V.StrategySheetColCell=Ei,V.StrategySheetColCellTooltip=xu,V.StrategySheetDataCell=Si,V.StrategySheetDataCellTooltip=Yu,V.StrategySheetDataSet=Li,V.StrategySheetRowCellTooltip=Zu,V.TableSheet=Wr,V.TooltipComponent=di,V.useExpose=sn,V.useSpreadSheetInstance=Fr,V.version=Ju,Object.defineProperty(V,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=s2-vue.min.js.map
