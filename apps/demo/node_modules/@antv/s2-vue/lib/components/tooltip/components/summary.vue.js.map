{"version":3,"file":"summary.vue.js","sources":["../../../../src/components/tooltip/components/summary.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { size, reduce } from 'lodash';\nimport {\n  i18n,\n  type TooltipSummaryProps,\n  type TooltipSummaryOptions,\n  TOOLTIP_PREFIX_CLS,\n} from '@antv/s2';\nimport { computed, defineComponent } from 'vue';\nimport type { GetInitProps } from '../../../interface';\n\nexport default defineComponent({\n  name: 'TooltipSummary',\n  props: ['summaries'] as unknown as GetInitProps<TooltipSummaryProps>,\n  setup(props) {\n    const summaryInfo = computed(() =>\n      reduce(\n        props.summaries,\n        (pre, next) => {\n          pre.count += size(next?.selectedData);\n          if (next.value || next.name) {\n            pre.summaries.push(next);\n          }\n\n          return pre;\n        },\n        { count: 0, summaries: [] } as {\n          count: number;\n          summaries: Array<TooltipSummaryOptions>;\n        },\n      ),\n    );\n\n    return {\n      summaryInfo,\n      i18n,\n      TOOLTIP_PREFIX_CLS,\n    };\n  },\n  components: {},\n});\n</script>\n\n<template>\n  <div :class=\"`${TOOLTIP_PREFIX_CLS}-summary`\">\n    <div :class=\"`${TOOLTIP_PREFIX_CLS}-summary-item`\">\n      <span :class=\"`${TOOLTIP_PREFIX_CLS}-selected`\">\n        {{ summaryInfo.count }} {{ i18n('项') }}\n      </span>\n      {{ i18n('已选择') }}\n    </div>\n    <div\n      v-for=\"summary in summaryInfo.summaries\"\n      :key=\"`${summary.name}-${summary.value}`\"\n      :class=\"`${TOOLTIP_PREFIX_CLS}-summary-item`\"\n    >\n      <span :class=\"`${TOOLTIP_PREFIX_CLS}-summary-key`\">\n        {{ summary.name }} ({{ i18n('总和') }})\n      </span>\n      <span\n        :class=\"`${TOOLTIP_PREFIX_CLS}-summary-val ${TOOLTIP_PREFIX_CLS}-bold`\"\n      >\n        {{ summary.value }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\"></style>\n"],"names":["TOOLTIP_PREFIX_CLS","_normalizeClass","summaryInfo","_toDisplayString","_openBlock","_createElementBlock","_Fragment","_renderList"],"mappings":";;;;AA4Ca,SAAA,YAAA,MAAA,QAAKA,QAAAA,QAAAA,OAAkB,UAAA;;IAChC,OAAAC,IAAAA,eAKM,GAAA,KAAA,kBAAA,UAAA;AAAA,EAAA,GAAA;AAAA;MAJJ,OAAAA,IAAAA,eAEO,GAAA,KAAA,kBAAA,eAAA;AAAA,IAAA,GAAA;AAAA,MADFC,IAAAA,mBAAAA,QAAAA;AAAAA,QAAAA,OAAAA,IAAAA,eAEL,GAAA,KAAA,kBAAO,WAAA;AAAA,MAAA,GAAAC,oBAAA,KAAA,YAAA,KAAA,IAAA,MAAAA,IAAAA,gBAAA,KAAA,KAAA,GAAA,CAAA,GAAA,CAAA;AAAA,0BAET,MAAAA,oBAaM,KAAA,KAAA,KAAA,CAAA,GAAA,CAAA;AAAA,IAAA,GAAA,CAAA;AAAA,KAXKC,IAAAA,UAAA,IAAA,GAAOC,IAAAA,mBAAiBC,cAAK,MAAAC,IAAAA,WAAA,KAAA,YAAA,WAAA,CAAA,YAAA;aAChCH,IAAAA,UAAA,GAAAC,IAAAA,mBAAKL,OAAAA;AAAAA,QAAAA,KAAAA,GAAAA,QAAAA,IAAAA,IAAAA,QAAAA,KAAAA;AAAAA,QAEX,OAAAC,IAAAA,eAEO,GAAA,KAAA,kBAAA,eAAA;AAAA,MAAA,GAAA;AAAA,+BADF,QAAQ;AAAA,UAEb,OAAAA,IAAAA,eAIO,GAAA,KAAA,kBAAA,cAAA;AAAA,QAAA,GAHJE,oBAAK,QAAKH,IAAAA,IAAAA,OAAAA,IAAAA,gBAAkB,KAAA,KAAgBA,IAAAA,CAAAA,IAAAA,MAAAA,CAAAA;AAAAA,QAAAA,IAAAA,mBAE1C,QAAQ;AAAA,UAAA,OAAAC,IAAAA,eAAA,GAAA,KAAA,kBAAA,gBAAA,KAAA,kBAAA,OAAA;AAAA;;;;;;;"}