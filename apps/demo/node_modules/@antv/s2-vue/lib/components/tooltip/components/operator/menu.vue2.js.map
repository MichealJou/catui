{"version":3,"file":"menu.vue2.js","sources":["../../../../../src/components/tooltip/components/operator/menu.vue"],"sourcesContent":["<script lang=\"ts\">\nimport {\n  TOOLTIP_PREFIX_CLS,\n  type TooltipOperatorMenuInfo,\n  type S2CellType,\n  type TooltipBaseOperatorMenuItem,\n} from '@antv/s2';\nimport { Menu } from 'ant-design-vue';\nimport { isEmpty } from 'lodash';\nimport { defineComponent } from 'vue';\nimport type { GetInitProps } from '../../../../interface';\nimport TooltipOperatorTitle from './title.vue';\n\nexport interface TooltipOperatorMenuProps {\n  menu: TooltipBaseOperatorMenuItem;\n  cell: S2CellType;\n}\n\nexport default defineComponent({\n  name: 'TooltipOperatorMenu',\n  props: ['menu', 'cell'] as unknown as GetInitProps<TooltipOperatorMenuProps>,\n  setup(props) {\n    const { menu, cell } = props;\n    const onMenuTitleClick = () => {\n      props.menu.onClick?.(menu as TooltipOperatorMenuInfo, cell);\n    };\n\n    return {\n      onMenuTitleClick,\n      isEmpty,\n      TOOLTIP_PREFIX_CLS,\n    };\n  },\n  components: {\n    MenuItem: Menu.Item,\n    SubMenu: Menu.SubMenu,\n    TooltipOperatorTitle,\n  },\n});\n</script>\n\n<template>\n  <SubMenu\n    v-if=\"!isEmpty(menu.children)\"\n    :key=\"menu.key\"\n    :popupClassName=\"`${TOOLTIP_PREFIX_CLS}-operator-submenu-popup`\"\n    @titleClick=\"onMenuTitleClick\"\n  >\n    <template #title>\n      <TooltipOperatorTitle :menu=\"menu\" @click=\"onMenuTitleClick\" />\n    </template>\n    <template v-for=\"subMenu in menu.children\" :key=\"subMenu.key\">\n      <template v-if=\"subMenu?.children?.length\">\n        <TooltipOperatorMenu :menu=\"subMenu\" :cell=\"cell\" />\n      </template>\n      <template v-else>\n        <MenuItem :title=\"subMenu.label\" :key=\"subMenu.key\">\n          <TooltipOperatorTitle :menu=\"subMenu\" @click=\"onMenuTitleClick\" />\n        </MenuItem>\n      </template>\n    </template>\n  </SubMenu>\n  <!-- v-if/else branches must use unique keys. -->\n  <MenuItem v-if=\"isEmpty(menu.children)\" :title=\"menu.label\" :key=\"menu.key\">\n    <TooltipOperatorTitle :menu=\"menu\" @click=\"onMenuTitleClick\" />\n  </MenuItem>\n</template>\n\n<style lang=\"less\"></style>\n"],"names":["_createElementBlock","_Fragment","menu","_openBlock","TOOLTIP_PREFIX_CLS","onMenuTitleClick","_withCtx","_createVNode","_renderList","_createBlock","isEmpty"],"mappings":";;;;;;;;;0BA0CEA,uBAmBUC,IAAAA,UAAA,MAAA;AAAA,IAAA,CAAA,KAjBP,QAAKC,KAAI,KAAI,QAAA,KAAAC,IAAAA,UAAA,mBACMC,oBAAkB;AAAA,MACrC,KAAA,KAAA,KAAYC;AAAAA,MAAAA,gBAAAA,GAAAA,KAAAA,kBAAAA;AAAAA,MAEF,cAAK,KACiD;AAAA,IAAA,GAAA;AAAA,MAAxC,OAAAC,IAAAA,QAAMJ,MAAI;AAAA,QAAAK,IAAAA,YAAUF,iCAAgB;AAAA,UAAA,MAAA,KAAA;AAAA;QAEnB,GAAA,MAAA,GAAA,CAAA,QAAA,SAAA,CAAA;AAAA,MAAA,CAAA;AAAA;SAAOF,IAAAA,UAAA,IAAO,GAACH,IAAAA,mBAAGC,cAAA,MAAAO,IAAAA,WAAA,KAAA,KAAA,UAAA,CAAA,YAAA;;;iBAC1C,QAAS;AAAA,UAAA,GAAA;AAAA,kHACYC,IAAAA,YAAA,gCAAA;AAAA,cAAG,KAAI;AAAA,cAAA,MAAA;AAAA;YAG/B,GAAA,MAAO,GAAA,CAAA,QAAQ,MAAK,CAAA,MAAAN,IAAAA,UAAA,GAAgBM,IAAAA,YAAG,qBAAA;AAAA,cAAA,OAAA,QAAA;AAAA;;uBACrBH,IAAAA,QAAS,MAAA;AAAA,gBAAAC,IAAAA,YAAUF,iCAAgB;AAAA,kBAAA,MAAA;AAAA;;;;;;;;;OAMtDK,GAAAA,CAAAA,kBAAa,cAAQ,6BAArC,IAAA,IAEW;AAAA,IAAA,KAF8B,QAAOR,KAAAA,KAAK,QAAK,KAAAC,IAAAA,UAAA,GAAQD,IAAAA,YAAQ,qBAAA;AAAA,MAAA,OAAA,KAAA,KAAA;AAAA;;MAC7C,SAAAI,IAAAA,QAAEJ,MAAI;AAAA,QAAAK,IAAAA,YAAUF,iCAAgB;AAAA,UAAA,MAAA,KAAA;AAAA;;;;;;;;;"}