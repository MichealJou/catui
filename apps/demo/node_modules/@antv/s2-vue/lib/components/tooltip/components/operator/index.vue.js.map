{"version":3,"file":"index.vue.js","sources":["../../../../../src/components/tooltip/components/operator/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport {\n  type TooltipOperatorMenuInfo,\n  type TooltipBaseOperatorMenuItem,\n  TOOLTIP_PREFIX_CLS,\n  TooltipOperatorProps as BaseTooltipOperatorProps,\n} from '@antv/s2';\nimport { Menu, Dropdown, type MenuProps } from 'ant-design-vue';\nimport { defineComponent } from 'vue';\nimport type { MenuClickEventHandler } from 'ant-design-vue/es/menu/src/interface';\nimport type { GetInitProps } from '../../../../interface';\nimport TooltipOperatorTitle from './title.vue';\nimport TooltipOperatorMenu from './menu.vue';\n\nexport interface TooltipOperatorProps extends BaseTooltipOperatorProps {\n  onClick?: MenuProps['onClick'];\n}\n\nexport default defineComponent({\n  name: 'TooltipOperator',\n  props: [\n    'menu',\n    'onlyShowOperator',\n    'cell',\n  ] as unknown as GetInitProps<TooltipOperatorProps>,\n  setup(props) {\n    const { menu, cell } = props;\n    const onMenuClick: MenuClickEventHandler = (menuInfo) => {\n      menu?.onClick?.(menuInfo as unknown as TooltipOperatorMenuInfo, cell);\n    };\n\n    const onMenuTitleClick = (subMenu: TooltipBaseOperatorMenuItem) => () => {\n      subMenu?.onClick(subMenu as TooltipOperatorMenuInfo, cell);\n    };\n\n    return {\n      TOOLTIP_PREFIX_CLS,\n      onMenuClick,\n      onMenuTitleClick,\n      menus: menu?.items,\n    };\n  },\n  components: {\n    Menu,\n    Dropdown,\n    TooltipOperatorTitle,\n    TooltipOperatorMenu,\n  },\n});\n</script>\n\n<template>\n  <div :class=\"`${TOOLTIP_PREFIX_CLS}-operator`\">\n    <template v-if=\"onlyShowOperator\">\n      <Menu\n        :class=\"`${TOOLTIP_PREFIX_CLS}-operator-menus`\"\n        @click=\"onMenuClick\"\n      >\n        <template v-for=\"menu in menus\" :key=\"menu.key\">\n          <TooltipOperatorMenu :menu=\"menu\" :cell=\"cell\" />\n        </template>\n      </Menu>\n    </template>\n    <template v-else>\n      <template v-for=\"menu in menus\" :key=\"menu.key\">\n        <Dropdown :class=\"`${TOOLTIP_PREFIX_CLS}-operator-dropdown`\">\n          <TooltipOperatorTitle :menu=\"menu\" @click=\"onMenuTitleClick(menu)\" />\n          <template #overlay>\n            <Menu\n              :class=\"`${TOOLTIP_PREFIX_CLS}-operator-menus`\"\n              @click=\"onMenuClick\"\n              v-if=\"menu?.children?.length\"\n            >\n              <template v-for=\"menu in menus\" :key=\"menu.key\">\n                <TooltipOperatorMenu :menu=\"menu\" :cell=\"cell\" />\n              </template>\n            </Menu>\n          </template>\n        </Dropdown>\n      </template>\n    </template>\n  </div>\n</template>\n\n<style lang=\"less\">\n@import '@antv/s2/esm/shared/styles/tooltip/operator.less';\n</style>\n"],"names":["_resolveComponent","onlyShowOperator","_createBlock","TOOLTIP_PREFIX_CLS","_normalizeClass","_openBlock","_createElementBlock","_Fragment","_renderList","cell","_withCtx","menu","_createCommentVNode","_createVNode"],"mappings":";;;;;;;;;8BAoDEA,IAAAA,iBA6BM,UAAA;;WA5BYC,IAAAA,eAAgB,GAAA,KAAA,kBAAA,WAAA;AAAA,EAAA,GAAA;AAAA,8CAEtBC,IAAAA,YAAKC,iBAAAA;AAAAA,MACV,KAAA;AAAA,MAAA,OAAAC,IAAAA,eAAA,GAAA,KAAA,kBAAA,iBAAA;AAAA;;;SAEqCC,cAAA,IAAK,GAAGC,IAAAA,mBAAAC,IAAAA,UAAA,MAAAC,IAAAA,WAAA,KAAA,OAAA,CAAA,SAAA;iBAChBH,IAAAA,UAAA,GAAIH,IAAAA,YAAA,gCAAA;AAAA,YAAG,KAAI,KAAEO;AAAAA,YAAAA;AAAAA;;;;;IAM3C,GAAA,GAAA,CAAA,SAAA,SAAA,CAAA,MAAAJ,IAAAA,UADoC,IAAK,GAAGC,IAAAA,mBAAAC,IAAAA,UAAA,EAAA,KAAA,EAAA,GAAAC,IAAAA,WAAA,KAAA,OAAA,CAAA,SAAA;AAC5B,aAAAH,IAAAA,UAAA,GAAAH,IAAAA,YAAKC,qBAAkB;AAAA,QAAA,KAAA,KAAA;AAAA,QAE1B,OAAOC,IAAAA,eAST,GAAA,KAAA,kBAAA,oBAAA;AAAA,MAAA,GAAA;AAAA,QARP,SAAAM,IAAAA,QAAA,MAAA;;AAAA;AAAA,cAAA,kCAAA,aAAA,mBAAA,WAAAL,IAAAA,UAAA,GACQH,IAAAA,YAAKC,iBAAAA;AAAAA,cACV,KAAA;AAAA,cAAA,OAAAC,IAAAA,eAAA,GAAA,KAAA,kBAAA,iBAAA;AAAA;;;+BAGqC,IAAK,GAAGE,IAAAA,mEAAAK,UAAA;yBAChBN,IAAAA,UAAA,GAAIH,IAAAA,YAAA,gCAAA;AAAA,oBAAG,KAAIS,MAAEF;AAAAA,oBAAAA,MAAAA;AAAAA;;;;;YARsB,GAAA,MAAA,CAAA,SAAA,SAAA,CAAA,KAAAG,IAAAA,mBAAA,IAAA,IAAA;AAAA,UAAA;AAAA,SAAA;AAAA,iBAA1CF,IAAAA,QAAM,MAAA;AAAA,UAAAG,IAAAA,YAAQ,iCAAmB;AAAA,YAAA;AAAA;;;;;;;;;;"}