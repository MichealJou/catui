{"version":3,"file":"useResize.js","sources":["../../src/hooks/useResize.ts"],"sourcesContent":["import type { SpreadSheet } from '@antv/s2';\nimport { createResizeObserver } from '@antv/s2';\nimport { ref, watch, type Ref } from 'vue';\nimport type { BaseSheetProps } from '../utils/initPropAndEmits';\n\nexport const useResize = (\n  s2Ref: Ref<SpreadSheet | undefined>,\n  props: BaseSheetProps,\n  dom: {\n    wrapperRef: Ref<HTMLDivElement | undefined>;\n    containerRef: Ref<HTMLDivElement | undefined>;\n  },\n) => {\n  const unobserve = ref<() => void>();\n\n  watch([s2Ref, () => props.adaptive], ([s2, adaptive], _, onCleanup) => {\n    if (!s2) {\n      return;\n    }\n\n    unobserve.value = createResizeObserver({\n      s2,\n      adaptive,\n      wrapper: dom.wrapperRef.value!,\n      container: dom.containerRef.value!,\n    });\n\n    onCleanup(() => {\n      unobserve.value?.();\n    });\n  });\n};\n"],"names":["ref","watch","s2","createResizeObserver"],"mappings":";;;;AAKO,MAAM,YAAY,CACvB,OACA,OACA,QAIG;AACH,QAAM,YAAYA,IAAAA,IAAA;AAElBC,MAAAA,MAAM,CAAC,OAAO,MAAM,MAAM,QAAQ,GAAG,CAAC,CAACC,MAAI,QAAQ,GAAG,GAAG,cAAc;AACrE,QAAI,CAACA,MAAI;AACP;AAAA,IACF;AAEA,cAAU,QAAQC,wBAAqB;AAAA,MAAA,IACrCD;AAAAA,MACA;AAAA,MACA,SAAS,IAAI,WAAW;AAAA,MACxB,WAAW,IAAI,aAAa;AAAA,IAAA,CAC7B;AAED,cAAU,MAAM;;AACd,sBAAU,UAAV;AAAA,IACF,CAAC;AAAA,EACH,CAAC;AACH;;"}