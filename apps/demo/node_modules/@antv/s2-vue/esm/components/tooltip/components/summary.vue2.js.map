{"version":3,"file":"summary.vue2.js","sources":["../../../../src/components/tooltip/components/summary.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { size, reduce } from 'lodash';\nimport {\n  i18n,\n  type TooltipSummaryProps,\n  type TooltipSummaryOptions,\n  TOOLTIP_PREFIX_CLS,\n} from '@antv/s2';\nimport { computed, defineComponent } from 'vue';\nimport type { GetInitProps } from '../../../interface';\n\nexport default defineComponent({\n  name: 'TooltipSummary',\n  props: ['summaries'] as unknown as GetInitProps<TooltipSummaryProps>,\n  setup(props) {\n    const summaryInfo = computed(() =>\n      reduce(\n        props.summaries,\n        (pre, next) => {\n          pre.count += size(next?.selectedData);\n          if (next.value || next.name) {\n            pre.summaries.push(next);\n          }\n\n          return pre;\n        },\n        { count: 0, summaries: [] } as {\n          count: number;\n          summaries: Array<TooltipSummaryOptions>;\n        },\n      ),\n    );\n\n    return {\n      summaryInfo,\n      i18n,\n      TOOLTIP_PREFIX_CLS,\n    };\n  },\n  components: {},\n});\n</script>\n\n<template>\n  <div :class=\"`${TOOLTIP_PREFIX_CLS}-summary`\">\n    <div :class=\"`${TOOLTIP_PREFIX_CLS}-summary-item`\">\n      <span :class=\"`${TOOLTIP_PREFIX_CLS}-selected`\">\n        {{ summaryInfo.count }} {{ i18n('项') }}\n      </span>\n      {{ i18n('已选择') }}\n    </div>\n    <div\n      v-for=\"summary in summaryInfo.summaries\"\n      :key=\"`${summary.name}-${summary.value}`\"\n      :class=\"`${TOOLTIP_PREFIX_CLS}-summary-item`\"\n    >\n      <span :class=\"`${TOOLTIP_PREFIX_CLS}-summary-key`\">\n        {{ summary.name }} ({{ i18n('总和') }})\n      </span>\n      <span\n        :class=\"`${TOOLTIP_PREFIX_CLS}-summary-val ${TOOLTIP_PREFIX_CLS}-bold`\"\n      >\n        {{ summary.value }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\"></style>\n"],"names":[],"mappings":";;;AAWA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO,CAAC,WAAW;AAAA,EACnB,MAAM,OAAO;AACX,UAAM,cAAc;AAAA,MAAS,MAC3B;AAAA,QACE,MAAM;AAAA,QACN,CAAC,KAAK,SAAS;AACb,cAAI,SAAS,KAAK,6BAAM,YAAY;AACpC,cAAI,KAAK,SAAS,KAAK,MAAM;AAC3B,gBAAI,UAAU,KAAK,IAAI;AAAA,UACzB;AAEA,iBAAO;AAAA,QACT;AAAA,QACA,EAAE,OAAO,GAAG,WAAW,CAAA,EAAC;AAAA,MAAE;AAAA,IAI5B;AAGF,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AAAA,EACA,YAAY,CAAA;AACd,CAAC;"}