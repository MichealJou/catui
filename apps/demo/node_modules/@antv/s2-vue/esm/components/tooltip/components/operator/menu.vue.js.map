{"version":3,"file":"menu.vue.js","sources":["../../../../../src/components/tooltip/components/operator/menu.vue"],"sourcesContent":["<script lang=\"ts\">\nimport {\n  TOOLTIP_PREFIX_CLS,\n  type TooltipOperatorMenuInfo,\n  type S2CellType,\n  type TooltipBaseOperatorMenuItem,\n} from '@antv/s2';\nimport { Menu } from 'ant-design-vue';\nimport { isEmpty } from 'lodash';\nimport { defineComponent } from 'vue';\nimport type { GetInitProps } from '../../../../interface';\nimport TooltipOperatorTitle from './title.vue';\n\nexport interface TooltipOperatorMenuProps {\n  menu: TooltipBaseOperatorMenuItem;\n  cell: S2CellType;\n}\n\nexport default defineComponent({\n  name: 'TooltipOperatorMenu',\n  props: ['menu', 'cell'] as unknown as GetInitProps<TooltipOperatorMenuProps>,\n  setup(props) {\n    const { menu, cell } = props;\n    const onMenuTitleClick = () => {\n      props.menu.onClick?.(menu as TooltipOperatorMenuInfo, cell);\n    };\n\n    return {\n      onMenuTitleClick,\n      isEmpty,\n      TOOLTIP_PREFIX_CLS,\n    };\n  },\n  components: {\n    MenuItem: Menu.Item,\n    SubMenu: Menu.SubMenu,\n    TooltipOperatorTitle,\n  },\n});\n</script>\n\n<template>\n  <SubMenu\n    v-if=\"!isEmpty(menu.children)\"\n    :key=\"menu.key\"\n    :popupClassName=\"`${TOOLTIP_PREFIX_CLS}-operator-submenu-popup`\"\n    @titleClick=\"onMenuTitleClick\"\n  >\n    <template #title>\n      <TooltipOperatorTitle :menu=\"menu\" @click=\"onMenuTitleClick\" />\n    </template>\n    <template v-for=\"subMenu in menu.children\" :key=\"subMenu.key\">\n      <template v-if=\"subMenu?.children?.length\">\n        <TooltipOperatorMenu :menu=\"subMenu\" :cell=\"cell\" />\n      </template>\n      <template v-else>\n        <MenuItem :title=\"subMenu.label\" :key=\"subMenu.key\">\n          <TooltipOperatorTitle :menu=\"subMenu\" @click=\"onMenuTitleClick\" />\n        </MenuItem>\n      </template>\n    </template>\n  </SubMenu>\n  <!-- v-if/else branches must use unique keys. -->\n  <MenuItem v-if=\"isEmpty(menu.children)\" :title=\"menu.label\" :key=\"menu.key\">\n    <TooltipOperatorTitle :menu=\"menu\" @click=\"onMenuTitleClick\" />\n  </MenuItem>\n</template>\n\n<style lang=\"less\"></style>\n"],"names":[],"mappings":";;;;;AAkBA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO,CAAC,QAAQ,MAAM;AAAA,EACtB,MAAM,OAAO;AACX,UAAM,EAAE,MAAM,KAAA,IAAS;AACvB,UAAM,mBAAmB,MAAM;;AAC7B,wBAAM,MAAK,YAAX,4BAAqB,MAAiC;AAAA,IACxD;AAEA,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AAAA,EACA,YAAY;AAAA,IACV,UAAU,KAAK;AAAA,IACf,SAAS,KAAK;AAAA,IACd;AAAA,EAAA;AAEJ,CAAC;"}