{"version":3,"file":"index.vue2.js","sources":["../../../../../src/components/tooltip/components/operator/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport {\n  type TooltipOperatorMenuInfo,\n  type TooltipBaseOperatorMenuItem,\n  TOOLTIP_PREFIX_CLS,\n  TooltipOperatorProps as BaseTooltipOperatorProps,\n} from '@antv/s2';\nimport { Menu, Dropdown, type MenuProps } from 'ant-design-vue';\nimport { defineComponent } from 'vue';\nimport type { MenuClickEventHandler } from 'ant-design-vue/es/menu/src/interface';\nimport type { GetInitProps } from '../../../../interface';\nimport TooltipOperatorTitle from './title.vue';\nimport TooltipOperatorMenu from './menu.vue';\n\nexport interface TooltipOperatorProps extends BaseTooltipOperatorProps {\n  onClick?: MenuProps['onClick'];\n}\n\nexport default defineComponent({\n  name: 'TooltipOperator',\n  props: [\n    'menu',\n    'onlyShowOperator',\n    'cell',\n  ] as unknown as GetInitProps<TooltipOperatorProps>,\n  setup(props) {\n    const { menu, cell } = props;\n    const onMenuClick: MenuClickEventHandler = (menuInfo) => {\n      menu?.onClick?.(menuInfo as unknown as TooltipOperatorMenuInfo, cell);\n    };\n\n    const onMenuTitleClick = (subMenu: TooltipBaseOperatorMenuItem) => () => {\n      subMenu?.onClick(subMenu as TooltipOperatorMenuInfo, cell);\n    };\n\n    return {\n      TOOLTIP_PREFIX_CLS,\n      onMenuClick,\n      onMenuTitleClick,\n      menus: menu?.items,\n    };\n  },\n  components: {\n    Menu,\n    Dropdown,\n    TooltipOperatorTitle,\n    TooltipOperatorMenu,\n  },\n});\n</script>\n\n<template>\n  <div :class=\"`${TOOLTIP_PREFIX_CLS}-operator`\">\n    <template v-if=\"onlyShowOperator\">\n      <Menu\n        :class=\"`${TOOLTIP_PREFIX_CLS}-operator-menus`\"\n        @click=\"onMenuClick\"\n      >\n        <template v-for=\"menu in menus\" :key=\"menu.key\">\n          <TooltipOperatorMenu :menu=\"menu\" :cell=\"cell\" />\n        </template>\n      </Menu>\n    </template>\n    <template v-else>\n      <template v-for=\"menu in menus\" :key=\"menu.key\">\n        <Dropdown :class=\"`${TOOLTIP_PREFIX_CLS}-operator-dropdown`\">\n          <TooltipOperatorTitle :menu=\"menu\" @click=\"onMenuTitleClick(menu)\" />\n          <template #overlay>\n            <Menu\n              :class=\"`${TOOLTIP_PREFIX_CLS}-operator-menus`\"\n              @click=\"onMenuClick\"\n              v-if=\"menu?.children?.length\"\n            >\n              <template v-for=\"menu in menus\" :key=\"menu.key\">\n                <TooltipOperatorMenu :menu=\"menu\" :cell=\"cell\" />\n              </template>\n            </Menu>\n          </template>\n        </Dropdown>\n      </template>\n    </template>\n  </div>\n</template>\n\n<style lang=\"less\">\n@import '@antv/s2/esm/shared/styles/tooltip/operator.less';\n</style>\n"],"names":[],"mappings":";;;;;AAkBA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAAA,EAEF,MAAM,OAAO;AACX,UAAM,EAAE,MAAM,KAAA,IAAS;AACvB,UAAM,cAAqC,CAAC,aAAa;;AACvD,yCAAM,YAAN,8BAAgB,UAAgD;AAAA,IAClE;AAEA,UAAM,mBAAmB,CAAC,YAAyC,MAAM;AACvE,yCAAS,QAAQ,SAAoC;AAAA,IACvD;AAEA,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA,OAAO,6BAAM;AAAA,IAAA;AAAA,EAEjB;AAAA,EACA,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ,CAAC;"}