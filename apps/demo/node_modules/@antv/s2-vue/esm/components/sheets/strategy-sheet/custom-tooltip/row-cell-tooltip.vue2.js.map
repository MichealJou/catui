{"version":3,"file":"row-cell-tooltip.vue2.js","sources":["../../../../../src/components/sheets/strategy-sheet/custom-tooltip/row-cell-tooltip.vue"],"sourcesContent":["<script lang=\"ts\">\nimport type { Node } from '@antv/s2';\nimport { i18n, getStrategySheetTooltipClsName as tooltipCls } from '@antv/s2';\nimport { isFunction } from 'lodash';\nimport { defineComponent, computed, type PropType } from 'vue';\nimport type { CustomTooltipProps } from './interface';\n\nexport default defineComponent({\n  name: 'StrategySheetRowCellTooltip',\n  props: {\n    cell: {\n      type: Object as PropType<CustomTooltipProps['cell']>,\n      required: true,\n    },\n    label: {\n      type: [Object, Function] as PropType<CustomTooltipProps['label']>,\n      default: undefined,\n    },\n  },\n  setup(props) {\n    const meta = computed(() => props.cell.getMeta() as Node);\n\n    const rowName = computed(() => {\n      const { value } = meta.value;\n      const customLabel = isFunction(props.label)\n        ? props.label(props.cell, value)\n        : props.label;\n\n      return customLabel ?? value;\n    });\n\n    const description = computed(() => {\n      const { field, spreadsheet, extra } = meta.value;\n\n      return (\n        spreadsheet.dataSet.getFieldDescription(field) || extra?.['description']\n      );\n    });\n\n    return {\n      tooltipCls,\n      i18n,\n      rowName,\n      description,\n    };\n  },\n});\n</script>\n\n<template>\n  <div :class=\"[tooltipCls(), tooltipCls('row')]\">\n    <div :class=\"tooltipCls('value')\">{{ rowName }}</div>\n    <div v-if=\"description\" :class=\"tooltipCls('description')\">\n      <span :class=\"tooltipCls('description-label')\">{{ i18n('说明') }}</span>\n      <span :class=\"tooltipCls('description-text')\">{{ description }}</span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\">\n@import './index.less';\n</style>\n"],"names":["tooltipCls"],"mappings":";;;AAOA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO;AAAA,IACL,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,UAAU;AAAA,IAAA;AAAA,IAEZ,OAAO;AAAA,MACL,MAAM,CAAC,QAAQ,QAAQ;AAAA,MACvB,SAAS;AAAA,IAAA;AAAA,EACX;AAAA,EAEF,MAAM,OAAO;AACX,UAAM,OAAO,SAAS,MAAM,MAAM,KAAK,SAAiB;AAExD,UAAM,UAAU,SAAS,MAAM;AAC7B,YAAM,EAAE,UAAU,KAAK;AACvB,YAAM,cAAc,WAAW,MAAM,KAAK,IACtC,MAAM,MAAM,MAAM,MAAM,KAAK,IAC7B,MAAM;AAEV,aAAO,oCAAe;AAAA,IACxB,CAAC;AAED,UAAM,cAAc,SAAS,MAAM;AACjC,YAAM,EAAE,OAAO,aAAa,MAAA,IAAU,KAAK;AAE3C,aACE,YAAY,QAAQ,oBAAoB,KAAK,MAAK,+BAAQ;AAAA,IAE9D,CAAC;AAED,WAAO;AAAA,MAAA,YACLA;AAAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AACF,CAAC;"}