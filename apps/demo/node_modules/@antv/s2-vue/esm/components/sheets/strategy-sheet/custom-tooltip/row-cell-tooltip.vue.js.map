{"version":3,"file":"row-cell-tooltip.vue.js","sources":["../../../../../src/components/sheets/strategy-sheet/custom-tooltip/row-cell-tooltip.vue"],"sourcesContent":["<script lang=\"ts\">\nimport type { Node } from '@antv/s2';\nimport { i18n, getStrategySheetTooltipClsName as tooltipCls } from '@antv/s2';\nimport { isFunction } from 'lodash';\nimport { defineComponent, computed, type PropType } from 'vue';\nimport type { CustomTooltipProps } from './interface';\n\nexport default defineComponent({\n  name: 'StrategySheetRowCellTooltip',\n  props: {\n    cell: {\n      type: Object as PropType<CustomTooltipProps['cell']>,\n      required: true,\n    },\n    label: {\n      type: [Object, Function] as PropType<CustomTooltipProps['label']>,\n      default: undefined,\n    },\n  },\n  setup(props) {\n    const meta = computed(() => props.cell.getMeta() as Node);\n\n    const rowName = computed(() => {\n      const { value } = meta.value;\n      const customLabel = isFunction(props.label)\n        ? props.label(props.cell, value)\n        : props.label;\n\n      return customLabel ?? value;\n    });\n\n    const description = computed(() => {\n      const { field, spreadsheet, extra } = meta.value;\n\n      return (\n        spreadsheet.dataSet.getFieldDescription(field) || extra?.['description']\n      );\n    });\n\n    return {\n      tooltipCls,\n      i18n,\n      rowName,\n      description,\n    };\n  },\n});\n</script>\n\n<template>\n  <div :class=\"[tooltipCls(), tooltipCls('row')]\">\n    <div :class=\"tooltipCls('value')\">{{ rowName }}</div>\n    <div v-if=\"description\" :class=\"tooltipCls('description')\">\n      <span :class=\"tooltipCls('description-label')\">{{ i18n('说明') }}</span>\n      <span :class=\"tooltipCls('description-text')\">{{ description }}</span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"less\">\n@import './index.less';\n</style>\n"],"names":["tooltipCls","_normalizeClass","rowName","description","_toDisplayString","_openBlock","i18n"],"mappings":";;;;SAkDa,YAAA,MAAA,QAAGA,QAAU,QAAIA,OAAAA,UAAU;;IACpC,OAAAC,eAAqD,CAAA,KAAA,WAAA,GAAA,KAAA,WAAA,KAAA,CAAA,CAAA;AAAA,EAAA,GAAA;AAAA,IAAhBC,mBAAAA,OAAAA;AAAAA,MAC1BC,OAAAA,eAAW,KAAA,WAAA,OAAA,CAAA;AAAA,IAAA,GAAAC,gBAAtB,KAAA,OAAA,GAAA,CAAA;AAAA,IAAA,KAAA,eAAAC,gCAAgCL,OAAU;AAAA,MAAA,KAAA;AAAA,MACxC,OAAAC,eAAsE,KAAA,WAAA,aAAA,CAAA;AAAA,IAAA,GAAA;AAAA,MAApBK,mBAAAA,QAAAA;AAAAA,QAClD,OAAAL,eAAsE,KAAA,WAAA,mBAAA,CAAA;AAAA,MAAA,GAA/DG,gBAAK,KAAEJ,KAAAA,IAAAA,CAAAA,GAAAA,CAAAA;AAAAA,MAAAA,mBAAmCG,QAAAA;AAAAA,QAAAA,OAAAA,eAAAA,KAAAA,WAAAA,kBAAAA,CAAAA;AAAAA;;;;;"}