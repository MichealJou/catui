{"version":3,"file":"chart-sheet.vue2.js","sources":["../../../src/components/sheets/chart-sheet.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { customMerge, type ThemeCfg, type S2Options } from '@antv/s2';\nimport { computed, defineComponent, toRefs } from 'vue';\nimport { useExpose } from '../../hooks/useExpose';\nimport type { BaseSheetInitEmits } from '../../interface';\nimport { initBaseSheetProps } from '../../utils/initPropAndEmits';\nimport BaseSheet from './base-sheet.vue';\n\n/**\n * ChartSheet - 用于在单元格中渲染图表\n *\n * 注意：要使用 ChartDataCell 自定义单元格渲染图表，\n * 需要在使用组件时通过 options.dataCell 配置 ChartDataCell\n *\n * 示例: 在 options 中配置 dataCell 属性:\n * dataCell: (viewMeta, spreadsheet) => new ChartDataCell(viewMeta, spreadsheet)\n */\nexport default defineComponent({\n  name: 'ChartSheet',\n  props: initBaseSheetProps(),\n  emits: [] as unknown as BaseSheetInitEmits,\n  setup(props, ctx) {\n    const s2Ref = useExpose(ctx.expose);\n    const { options: chartOptions, themeCfg: customThemeCfg } = toRefs(props);\n\n    const s2Options = computed<S2Options>(() => {\n      const defaultOptions: Partial<S2Options> = {\n        style: {\n          rowCell: {\n            width: 100,\n          },\n          dataCell: {\n            width: 400,\n            height: 400,\n          },\n        },\n        tooltip: {\n          enable: true,\n        },\n      };\n\n      const options: Partial<S2Options> = {\n        showDefaultHeaderActionIcon: false,\n        interaction: {\n          hoverFocus: false,\n          brushSelection: {\n            dataCell: false,\n          },\n        },\n      };\n\n      return customMerge<S2Options>(\n        defaultOptions,\n        chartOptions.value,\n        options,\n      );\n    });\n\n    const themeCfg = computed<ThemeCfg>(() => {\n      const defaultTheme: ThemeCfg['theme'] = {\n        dataCell: {\n          cell: {\n            interactionState: {\n              hoverFocus: {\n                borderOpacity: 0,\n              },\n              selected: {\n                borderOpacity: 0,\n              },\n            },\n          },\n        },\n      };\n\n      return customMerge<ThemeCfg>(defaultTheme, customThemeCfg?.value);\n    });\n\n    return {\n      s2Ref,\n      s2Options,\n      themeCfg,\n    };\n  },\n  components: {\n    BaseSheet,\n  },\n});\n</script>\n\n<template>\n  <BaseSheet\n    v-bind=\"$props\"\n    ref=\"s2Ref\"\n    :options=\"s2Options\"\n    :themeCfg=\"themeCfg\"\n  />\n</template>\n"],"names":[],"mappings":";;;;;AAiBA,MAAA,YAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,OAAO,mBAAA;AAAA,EACP,OAAO,CAAA;AAAA,EACP,MAAM,OAAO,KAAK;AAChB,UAAM,QAAQ,UAAU,IAAI,MAAM;AAClC,UAAM,EAAE,SAAS,cAAc,UAAU,eAAA,IAAmB,OAAO,KAAK;AAExE,UAAM,YAAY,SAAoB,MAAM;AAC1C,YAAM,iBAAqC;AAAA,QACzC,OAAO;AAAA,UACL,SAAS;AAAA,YACP,OAAO;AAAA,UAAA;AAAA,UAET,UAAU;AAAA,YACR,OAAO;AAAA,YACP,QAAQ;AAAA,UAAA;AAAA,QACV;AAAA,QAEF,SAAS;AAAA,UACP,QAAQ;AAAA,QAAA;AAAA,MACV;AAGF,YAAM,UAA8B;AAAA,QAClC,6BAA6B;AAAA,QAC7B,aAAa;AAAA,UACX,YAAY;AAAA,UACZ,gBAAgB;AAAA,YACd,UAAU;AAAA,UAAA;AAAA,QACZ;AAAA,MACF;AAGF,aAAO;AAAA,QACL;AAAA,QACA,aAAa;AAAA,QACb;AAAA,MAAA;AAAA,IAEJ,CAAC;AAED,UAAM,WAAW,SAAmB,MAAM;AACxC,YAAM,eAAkC;AAAA,QACtC,UAAU;AAAA,UACR,MAAM;AAAA,YACJ,kBAAkB;AAAA,cAChB,YAAY;AAAA,gBACV,eAAe;AAAA,cAAA;AAAA,cAEjB,UAAU;AAAA,gBACR,eAAe;AAAA,cAAA;AAAA,YACjB;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAGF,aAAO,YAAsB,cAAc,iDAAgB,KAAK;AAAA,IAClE,CAAC;AAED,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAAA,EAEJ;AAAA,EACA,YAAY;AAAA,IACV;AAAA,EAAA;AAEJ,CAAC;"}