{"version":3,"file":"SpreadSheetContext.js","sources":["../../src/context/SpreadSheetContext.ts"],"sourcesContent":["import type { SpreadSheet } from '@antv/s2';\nimport type { InjectionKey, Ref } from 'vue';\nimport { inject, provide, shallowRef } from 'vue';\n\n/**\n * S2 实例的 InjectionKey\n */\nexport const S2_INSTANCE_KEY: InjectionKey<Ref<SpreadSheet | null>> =\n  Symbol('s2-instance');\n\n/**\n * 提供 S2 实例给子组件\n * @param instance S2 实例的响应式引用\n */\nexport function provideSpreadSheet(instance: Ref<SpreadSheet | null>) {\n  provide(S2_INSTANCE_KEY, instance);\n}\n\n/**\n * 在子组件中获取 S2 实例\n * 类似 React 版本的 useSpreadSheetInstance()\n * @returns S2 实例的响应式引用\n */\nexport function useSpreadSheetInstance(): Ref<SpreadSheet | null> {\n  const instance = inject(S2_INSTANCE_KEY, shallowRef(null));\n\n  return instance;\n}\n"],"names":[],"mappings":";AAOO,MAAM,kBACX,OAAO,aAAa;AAMf,SAAS,mBAAmB,UAAmC;AACpE,UAAQ,iBAAiB,QAAQ;AACnC;AAOO,SAAS,yBAAkD;AAChE,QAAM,WAAW,OAAO,iBAAiB,WAAW,IAAI,CAAC;AAEzD,SAAO;AACT;"}